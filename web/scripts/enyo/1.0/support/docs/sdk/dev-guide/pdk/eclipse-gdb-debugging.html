<!DOCTYPE html>
<html>
	<head>
		<title>$if(pagetitle)$$pagetitle$$endif$</title>
		<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
		<link rel="stylesheet" href="_css/chrome.css" />
		<link rel="stylesheet" href="../_css/chrome.css" />
		<link rel="stylesheet" href="../../_css/chrome.css" />
		<link rel="stylesheet" href="../../../_css/chrome.css" />
		<script src="_js/jquery-1.4.2.min.js" type="text/javascript"></script>
		<script src="../_js/jquery-1.4.2.min.js" type="text/javascript"></script>
		<script src="../../_js/jquery-1.4.2.min.js" type="text/javascript"></script>
		<script src="../../../_js/jquery-1.4.2.min.js" type="text/javascript"></script>
		<script src="_js/doc.js" type="text/javascript"></script>
		<script src="../_js/doc.js" type="text/javascript"></script>
		<script src="../../_js/doc.js" type="text/javascript"></script>
		<script src="../../../_js/doc.js" type="text/javascript"></script>
	</head>
	<body>
		<div id="content">
    
    <h1 id="using-eclipse-as-a-front-end-to-gdb-debugging-on-the-device">
      Using Eclipse as a Front-End to GDB Debugging on the Device
    </h1>
    <p>
      You can use the Eclipse IDE for debugging applications directly on the device. To do this, you must have the following in place:
    </p>
    <ol style="list-style-type: decimal">
      <li>
        <p>
          A GDB (GNU Debugger) client set up in Eclipse.
        </p>
      </li>
      <li>
        <p>
          A GDB server on the device when running the application. See <a href="http://www.gnu.org/software/gdb/documentation/">http://www.gnu.org/software/gdb/documentation/</a> for information on using GDB. The Palm PDK comes with a pre-configured workspace. Using this requires some initial configuration when starting Eclipse for the first time.
        </p>
      </li>
    </ol>
    <p>
      <strong>Notes:</strong>
    </p>
    <p>
      The pre-configured workspace setup assumes the Palm PDK is installed at <code>C:\Program Files\Palm\PDK\</code> and the Codesourcery Toolchain is installed at <code>C:\Program Files\CodeSourcery</code>.
    </p>
    <p>
      This procedure was done with Eclipse Galileo v3.5. Other versions of Eclipse (i.e., Ganymede, Helios) are likely to be different.
    </p>
    <p>
      <strong>To run the sample application in Eclipse:</strong>
    </p>
    <ol style="list-style-type: decimal">
      <li>
        <p>
          Configure Eclipse to use the Palm PDK workspace.
        </p>
        <ul>
          <li>
            <p>
              Launch Eclipse
            </p>
          </li>
          <li>
            <p>
              In the Workspace textbox, browse to and select, the workspace provided with the Palm PDK:
            </p>
            <p>
              <code>C:\Program Files\Palm\PDK\EclipseWorkspace</code>
            </p>
            <p>
              The EclipseWorkspace is already configured to debug the Palm PDK's simple application.
            </p>
          </li>
        </ul>
      </li>
      <li>
        <p>
          Compile the sample application in debug mode.
        </p>
        <ul>
          <li>
            <p>
              Open a command prompt and go to the following directory:
            </p>
            <p>
              <code>C:\Program Files\Palm\PDK\share\samples\simple\windows</code>
            </p>
          </li>
          <li>
            <p>
              In buildit.cmd, set <code>DEBUG=1</code> and run it. This script compiles the sample application with debug symbols (the <code>â€“g</code> option for the GCC compiler).
            </p>
          </li>
        </ul>
      </li>
      <li>
        <p>
          Import the sample application executable.
        </p>
        <ul>
          <li>
            <p>
              Select <strong>File &gt; Import</strong>.
            </p>
            <p>
              The <strong>Import</strong> dialog box appears:
            </p><img src="/images/palm/pdk_debugging_sc1.jpg" alt="image"><br>
          </li>
          <li>
            <p>
              Select <strong>C/C++ Executable</strong> as shown, and click <strong>Next</strong>.
            </p>
          </li>
          <li>
            <p>
              In the <strong>Import Executable</strong> dialog box, if not already selected, click the <strong>Select Executable</strong> radio button.
            </p>
          </li>
          <li>
            <p>
              Browse and select:
            </p>
            <p>
              <code>C:\Program Files\Palm\PDK\share\samples\simple\windows\simple</code>
            </p>
          </li>
          <li>
            <p>
              Click <strong>Next</strong>.
            </p><img src="/images/palm/pdk_debugging_sc2.jpg" alt="image"><br>
          </li>
          <li>
            <p>
              Deselect the <strong>Create a Launch Configuration</strong> checkbox and click <strong>Finish</strong>. There should now be a <code>Debug_simple</code> project entry in the <strong>Project Explorer</strong> pane.
            </p>
          </li>
        </ul>
      </li>
      <li>
        <p>
          Configure the GDB client for the host PC.
        </p>
        <ul>
          <li>
            <p>
              Select <strong>Run &gt; Debug Configurations</strong> and expand the <strong>C/C++ Application</strong> menu.
            </p><img src="/images/palm/pdk_debugging_sc3.jpg" alt="image"><br>
          </li>
          <li>
            <p>
              Click on the <strong>GDBClient</strong> menu item and change the Project field to the name of your imported project and the <strong>C/C++ Application</strong> field to point to your executable.
            </p>
          </li>
          <li>
            <p>
              Click on the <strong>Source</strong> tab.
            </p><img src="/images/palm/pdk_debugging_sc4.jpg" alt="image"><br>
          </li>
          <li>
            <p>
              Select the <strong>simple</strong> entry and click <strong>Add</strong>.
            </p>
          </li>
          <li>
            <p>
              In the <strong>Add Source</strong> dialog box, select <strong>File System Directory</strong> and click <strong>OK</strong>.
            </p>
          </li>
          <li>
            <p>
              In the <strong>Add File System Directory</strong> dialog box, browse and select the <strong>simple</strong> directory and click <strong>OK</strong>. The <strong>Add File System Directory</strong> dialog box reappears with your selection:
            </p><img src="/images/palm/pdk_debugging_sc5.jpg" alt="image"><br>
          </li>
          <li>
            <p>
              Click <strong>OK</strong>.
            </p>
          </li>
          <li>
            <p>
              Click <strong>Apply</strong> and then <strong>Close</strong>.
            </p>
          </li>
        </ul>
      </li>
      <li>
        <p>
          Configure the GDB server for the device.
        </p>
        <p>
          Configure the debugit.cmd script to run when you start debugging and running the sample application. This script will stop the GDB server on the device if it is still running, transfer the simple executable, and restart (or start) the GDB server, passing it the sample application's executable name.
        </p>
        <ul>
          <li>
            <p>
              Select <strong>Run &gt; External Tools &gt; External Tools Configurations</strong>.
            </p>
          </li>
          <li>
            <p>
              In the <strong>Working Directory</strong> textbox, enter <code>&quot;C:\&quot;</code>.
            </p>
          </li>
          <li>
            <p>
              Enter <code>&quot;media/internal/simple&quot;</code> in the <strong>Arguments</strong> textbox.
            </p>
          </li>
          <li>
            <p>
              Click <strong>Apply</strong>, then <strong>Close</strong>.
            </p>
          </li>
        </ul>
      </li>
      <li>
        <p>
          Run the sample application in debug mode.
        </p>
        <ul>
          <li>
            <p>
              Click the drop-down menu:
            </p>
            <p>
              <img src="/images/palm/pdk_debugging_sc6.jpg" alt="image"><br>
              And select <strong>Debug Device</strong>. The layout changes to a Debug Perspective. To return to the Project Explorer perspective, select <strong>Windows &gt; Close Perspective</strong>. You should see the rotating cube displayed on the device.
            </p>
          </li>
        </ul>
      </li>
    </ol>
		</div>
	</body>
</html>