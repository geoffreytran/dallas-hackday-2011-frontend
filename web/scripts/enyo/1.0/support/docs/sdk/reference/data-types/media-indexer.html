<!DOCTYPE html>
<html>
	<head>
		<title>$if(pagetitle)$$pagetitle$$endif$</title>
		<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
		<link rel="stylesheet" href="_css/chrome.css" />
		<link rel="stylesheet" href="../_css/chrome.css" />
		<link rel="stylesheet" href="../../_css/chrome.css" />
		<link rel="stylesheet" href="../../../_css/chrome.css" />
		<script src="_js/jquery-1.4.2.min.js" type="text/javascript"></script>
		<script src="../_js/jquery-1.4.2.min.js" type="text/javascript"></script>
		<script src="../../_js/jquery-1.4.2.min.js" type="text/javascript"></script>
		<script src="../../../_js/jquery-1.4.2.min.js" type="text/javascript"></script>
		<script src="_js/doc.js" type="text/javascript"></script>
		<script src="../_js/doc.js" type="text/javascript"></script>
		<script src="../../_js/doc.js" type="text/javascript"></script>
		<script src="../../../_js/doc.js" type="text/javascript"></script>
	</head>
	<body>
		<div id="content">
    
    <h1 id="media-indexer">
      Media Indexer
    </h1>
    <p>
      The schemas below detail the layout of media JSON data objects; 3rd party applications can access this data using the db8 JavaScript wrapper provided with Palm's JavaScript Foundation libraries or with the <code>serviceRequest</code> call that directly accesses the db8 serviceâ€”<code>com.palm.db8</code>. See the <a href="/dev-guide/mojo/db8.html">db8 documentation</a> for detailed information on including and using these calls in your JavaScript code. Examples of db8 JavaScript calls are provided with each of the data type schemas detailed below.
    </p>
    <p>
      For each data object, you need to know the name of its <em>kind</em>. Kind objects in db8 define the indexes and access control for stored JSON data objects. You must specify the kind when accessing data objects <em>of that kind</em> (see the example db8 queries for the schemas).
    </p>
    <p>
      The Media Indexer has the following data objects and kinds. Note that the kind names are appended with a version number (i.e., &quot;:1&quot;).
    </p>
    <table border="1">
      <thead>
        <tr>
          <td>
            Data Type
          </td>
          <td>
            Kind
          </td>
        </tr>
      </thead>
      <tbody>
        <tr>
          <td>
            <a href="#albumimage">albumimage</a>
          </td>
          <td>
            com.palm.media.image.album:1
          </td>
        </tr>
        <tr>
          <td>
            <a href="#albumobject">album</a>
          </td>
          <td>
            com.palm.media.audio.album:1
          </td>
        </tr>
        <tr>
          <td>
            <a href="#artistobject">artist</a>
          </td>
          <td>
            com.palm.media.audio.artist:1
          </td>
        </tr>
        <tr>
          <td>
            <a href="#audiofile">audio file</a>
          </td>
          <td>
            com.palm.media.audio.audio.file:1
          </td>
        </tr>
        <tr>
          <td>
            <a href="#genreobject">genre</a>
          </td>
          <td>
            com.palm.media.audio.genre:1
          </td>
        </tr>
        <tr>
          <td>
            <a href="#image">image</a>
          </td>
          <td>
            com.palm.media.image.file:1
          </td>
        </tr>
        <tr>
          <td>
            <a href="#playlistobject">playlist</a>
          </td>
          <td>
            com.palm.media.audio.playlist.object:1
          </td>
        </tr>
        <tr>
          <td>
            <a href="#thumbnail">thumbnail</a>
          </td>
          <td>
            &#160;
          </td>
        </tr>
        <tr>
          <td>
            <a href="#videofile">video file</a>
          </td>
          <td>
            com.palm.media.audio.videofile:1
          </td>
        </tr>
      </tbody>
    </table>
    <p>
      <strong>NOTES</strong>
    </p>
    <ul>
      <li>
        <p>
          When used, kind fields must be enclosed in quotes (&quot;), i.e., &quot;audiofile:1&quot;.
        </p>
      </li>
      <li>
        <p>
          The example db8 JavaScript calls shown in the documentation below use a Foundation Library construct known as a &quot;future&quot;, which is a kind of asynchronous callback.
        </p>
      </li>
      <li>
        <p>
          The schemas below do not include the &quot;_id&quot;, &quot;_rev&quot; and &quot;_kind&quot; fields that are automatically assigned to each data object once it is stored. If you retrieve data objects in their entirety, you will see these fields. See the db8 documentation for information about these special fields and how they are used.
        </p>
      </li>
    </ul>
    <p>
      <a name="UsingCodeSamples" id="UsingCodeSamples">&#160;</a>
    </p>
    <hr>
    <h2 id="using-the-code-samples">
      Using the Code Samples
    </h2>
    <p>
      As mentioned earlier, media data is kept in the device's resident db8 JSON database. The code samples use API calls provided with Palm's JavaScript Foundation libraries for accessing the db8 service (<code>com.palm.db</code>). Foundations is a loadable framework that both Mojo and JavaScript service applications can use.
    </p>
    <p>
      <strong>To use Foundations in your code:</strong>
    </p>
    <ol>
      <li>
        <p>
          Include the following two script tags in your app's &quot;Index.html&quot; file:
        </p>
        <pre>
    &lt;script src="/usr/palm/frameworks/mojo/mojo.js" type="text/javascript" x-mojo-version="1"&gt;&lt;/script&gt; 
    &lt;script src="/usr/palm/frameworks/mojoloader.js" type="text/javascript"&gt;&lt;/script&gt;
</pre>
      </li>
      <li>Load and reference foundations in your JavaScript:
        <pre>
    var libraries   = MojoLoader.require({ name: "foundations", version: "1.0" });
    var DB          = libraries["foundations"].Data.DB;   // db8 JS wrapper API calls
    var Future      = libraries["foundations"].Control.Future; // Future - async callbacks for db8 wrapper calls
</pre>
      </li>
    </ol>
    <p>
      Alternatively, you can use the &quot;serviceRequest&quot; function to access the db8 service. See the db8 Service API for more information.
    </p>
    <p>
      <a name="albumimage" id="albumimage">&#160;</a>
    </p>
    <hr>
    <h2 id="albumimage">
      albumimage
    </h2>
    <h3 id="schema">
      Schema
    </h3>
    <pre>
<code>{
   &quot;path&quot;         :  string,
   &quot;name&quot;         :  string,
   &quot;sortKey&quot;      :  string, 
   &quot;thumbnails&quot;   :  thumbnail array
   &quot;total&quot;        : {
                     &quot;images&quot; : int
                    } 
   &quot;modifiedTime&quot;: long
}
</code>
</pre>
    <h3 id="elements">
      Elements
    </h3>
    <table border="1">
      <thead>
        <tr>
          <th>
            Element
          </th>
          <th>
            Required
          </th>
          <th>
            Type
          </th>
          <th>
            Description
          </th>
        </tr>
      </thead>
      <tbody>
        <tr>
          <td>
            path
          </td>
          <td>
            Yes
          </td>
          <td>
            string
          </td>
          <td>
            Path to directory on disk.
          </td>
        </tr>
        <tr>
          <td>
            name
          </td>
          <td>
            Yes
          </td>
          <td>
            string
          </td>
          <td>
            Display name for albums (local albums start off as folder name on disk).
          </td>
        </tr>
        <tr>
          <td>
            sortKey
          </td>
          <td>
            Yes
          </td>
          <td>
            string
          </td>
          <td>
            Used for correct sorting with priority.
          </td>
        </tr>
        <tr>
          <td>
            thumbnails
          </td>
          <td>
            Yes
          </td>
          <td>
            thumbnail array
          </td>
          <td>
            A pre-populated array of up to three thumbnails to use as previews pulled from the first images of the album.
          </td>
        </tr>
        <tr>
          <td>
            total
          </td>
          <td>
            Yes
          </td>
          <td>
            inline object, see element below
          </td>
          <td>
            Totals
          </td>
        </tr>
        <tr bgcolor="blanchedAlmond">
          <td>
            total.images
          </td>
          <td>
            Yes
          </td>
          <td>
            int
          </td>
          <td>
            The total number of images contained in this album.
          </td>
        </tr>
        <tr>
          <td>
            modifiedTime
          </td>
          <td>
            Yes
          </td>
          <td>
            long
          </td>
          <td>
            The last time the album was updated in milliseconds since the epoch (Jan 1, Midnight, 1970).
          </td>
        </tr>
      </tbody>
    </table>
    <p>
      <strong>Example JavaScript db8 find</strong>
    </p>
    <pre>
<code>  var DB = libraries[&quot;foundations&quot;].Data.DB; // Get JS wrapper for DB calls

  //** Construct query, specifying fields to retrieve and kind
   var fquery = { &quot;from&quot;:&quot;com.palm.media.image.album:1&quot; };

   DB.find(fquery, false, false).then(function(future) { // Get data, no watch, no count
      var result = future.result;   

      if (result.returnValue == true)   // Success
      {
                 Mojo.Log.info(&quot;Success: Album images= &quot;+JSON.stringify(result.results)); 
      } 
      else // Failure
      {  
         result = future.exception;
         Mojo.Log.info(&quot;find failure: Err code=&quot; + result.errorCode + &quot;Err message=&quot; + result.message); 
      }
   });
</code>
</pre>
    <p>
      <strong>Example Output</strong>
    </p>
    <pre>
<code>Success: Album images= [
   {
      &quot;_id&quot;:&quot;2+5a&quot;,
      &quot;_kind&quot;:&quot;com.palm.media.image.album:1&quot;,
      &quot;_rev&quot;:1402,
      &quot;modifiedTime&quot;:1236702265000,
      &quot;name&quot;:&quot;Wallpapers&quot;,
      &quot;path&quot;:&quot;/media/internal/wallpapers&quot;,
      &quot;searchKey&quot;:&quot;Wallpapers&quot;,
      &quot;sortKey&quot;:&quot;900_Wallpapers&quot;,
      &quot;thumbnails&quot;:[
         {
            &quot;_id&quot;:&quot;2+Jb&quot;,
            &quot;data&quot;:{
               &quot;length&quot;:3717,
               &quot;offset&quot;:330,
               &quot;path&quot;:&quot;/media/internal/wallpapers/04.jpg&quot;
            },
            &quot;type&quot;:&quot;embedded&quot;
         },
         {
            &quot;_id&quot;:&quot;2+Jd&quot;,
            &quot;data&quot;:{
               &quot;length&quot;:0,
               &quot;offset&quot;:0,
               &quot;path&quot;:&quot;/media/internal/wallpapers/05.jpg&quot;
            },
            &quot;type&quot;:&quot;embedded&quot;
         },
         {
            &quot;_id&quot;:&quot;2+J_&quot;,
            &quot;data&quot;:{
               &quot;length&quot;:0,
               &quot;offset&quot;:0,
               &quot;path&quot;:&quot;/media/internal/wallpapers/11.jpg&quot;
            },
            &quot;type&quot;:&quot;embedded&quot;
         }
      ],
      &quot;total&quot;:{
         &quot;images&quot;:12
      }
   }
</code>
</pre>
    <p>
      <a name="albumobject" id="albumobject">&#160;</a>
    </p>
    <hr>
    <h2 id="album">
      album
    </h2>
    <h3 id="schema-1">
      Schema
    </h3>
    <pre>
<code>{
   &quot;name&quot;         :  string,
   &quot;total&quot;        :  {
                       &quot;tracks&quot; : int 
                     },
   &quot;artist&quot;       :  string,
   &quot;thumbnails&quot;   :  thumbnail array
}
</code>
</pre>
    <h3 id="elements-1">
      Elements
    </h3>
    <table border="1">
      <thead>
        <tr>
          <th>
            Element
          </th>
          <th>
            Required
          </th>
          <th>
            Type
          </th>
          <th>
            Description
          </th>
        </tr>
      </thead>
      <tbody>
        <tr>
          <td>
            name
          </td>
          <td>
            Yes
          </td>
          <td>
            string
          </td>
          <td>
            Album name.
          </td>
        </tr>
        <tr>
          <td>
            total
          </td>
          <td>
            Yes
          </td>
          <td>
            inline object
          </td>
          <td>
            See element below.
          </td>
        </tr>
        <tr bgcolor="BlanchedAlmond">
          <td>
            total.tracks
          </td>
          <td>
            Yes
          </td>
          <td>
            int
          </td>
          <td>
            Total number of tracks on album.
          </td>
        </tr>
        <tr>
          <td>
            artist
          </td>
          <td>
            Yes
          </td>
          <td>
            string
          </td>
          <td>
            Album artist.
          </td>
        </tr>
        <tr>
          <td>
            thumbnails
          </td>
          <td>
            Yes
          </td>
          <td>
            thumbnail array
          </td>
          <td>
            Thumbnails for album.
          </td>
        </tr>
      </tbody>
    </table>
    <p>
      <strong>Example JavaScript db8 find</strong>
    </p>
    <pre>
<code>  var DB = libraries[&quot;foundations&quot;].Data.DB; // Get JS wrapper for DB calls

  //** Construct query, specifying fields to retrieve and kind
  var fquery = {&quot;select&quot; : [&quot;name&quot;, &quot;artist&quot;, &quot;total.tracks&quot;], &quot;from&quot;:&quot;com.palm.media.audio.album:1&quot; };

   DB.find(fquery, false, false).then(function(future) { // Get data, no watch, no count
      var result = future.result;   
      if (result.returnValue == true)   // Success
      {
         var albums = result.results;
         var i = 0;
         while (albums[i] != null)
            Mojo.Log.info(&quot;Album name: &quot;+albums[i].name+ &quot;,  Artist: &quot;+ albums[i].artist + &quot;, #tracks=&quot;+albums[i++].total.tracks);  
      } 
      else // Failure
      {  
         result = future.exception;
         Mojo.Log.info(&quot;find failure: Err code=&quot; + result.errorCode + &quot;Err message=&quot; + result.message); 
      }     
   });
</code>
</pre>
    <p>
      <strong>Example Output</strong>
    </p>
    <pre>
<code>Album name: Beethoven: Symphonies Nos. 5 &amp; 9 &quot;Choral&quot;; Piano Concerto No. 5 &quot;Emperor&quot; Disc 1, Artist: Ludwig van Beethoven, composer. Seattle Symphony. Gerard Schwarz, director, #tracks=1
Album name: Speakin' Out, Artist: Marc Seales, composer. New Stories. Ernie Watts, saxophone., #tracks=1
</code>
</pre>
    <p>
      <a name="artistobject" id="artistobject">&#160;</a>
    </p>
    <hr>
    <h2 id="artist">
      artist
    </h2>
    <h3 id="schema-2">
      Schema
    </h3>
    <pre>
<code>{
   &quot;name&quot;         :  string,
   &quot;total&quot;        :  {  
                       &quot;tracks&quot; : int,
                       &quot;albums&quot; : int 
                     },
   &quot;thumbnails&quot;   :  thumbnail array
}
</code>
</pre>
    <h3 id="elements-2">
      Elements
    </h3>
    <table border="1">
      <thead>
        <tr>
          <th>
            Element
          </th>
          <th>
            Required
          </th>
          <th>
            Type
          </th>
          <th>
            Description
          </th>
        </tr>
      </thead>
      <tbody>
        <tr>
          <td>
            name
          </td>
          <td>
            Yes
          </td>
          <td>
            string
          </td>
          <td>
            Artist name.
          </td>
        </tr>
        <tr>
          <td>
            total
          </td>
          <td>
            Yes
          </td>
          <td>
            inline object
          </td>
          <td>
            See two elements below.
          </td>
        </tr>
        <tr bgcolor="BlanchedAlmond">
          <td>
            total.tracks
          </td>
          <td>
            Yes
          </td>
          <td>
            int
          </td>
          <td>
            Total number of the artist's audio tracks on the device.
          </td>
        </tr>
        <tr bgcolor="BlanchedAlmond">
          <td>
            total.albums
          </td>
          <td>
            Yes
          </td>
          <td>
            int
          </td>
          <td>
            Total number of the artist's audio albums on the device.
          </td>
        </tr>
        <tr>
          <td>
            thumbnail
          </td>
          <td>
            Yes
          </td>
          <td>
            thumbnail array
          </td>
          <td>
            Thumbnails for artist.
          </td>
        </tr>
      </tbody>
    </table>
    <p>
      <strong>Example JavaScript db8 find</strong>
    </p>
    <pre>
<code>  var DB = libraries[&quot;foundations&quot;].Data.DB; // Get JS wrapper for DB calls

  //** Construct query, specifying fields to retrieve and kind
  var fquery = { &quot;select&quot; : [&quot;name&quot;, &quot;total.tracks&quot;, &quot;total.albums&quot;], &quot;from&quot;:&quot;com.palm.media.audio.artist:1&quot; };

   DB.find(fquery, false, false).then(function(future) { // Get data, no watch, no count
      var result = future.result;   
      if (result.returnValue == true)   // Success
      {
         var artists = result.results;
         var i = 0;
              while (artists[i] != null)
                     Mojo.Log.info(&quot;Artist name: &quot;+artists[i].name+ &quot;, #tracks = &quot;+artists[i].total.tracks+&quot;, #albums=&quot;+ artists[i++].total.albums); 
      } 
      else // Failure
      {  
         result = future.exception;
         Mojo.Log.info(&quot;find failure: Err code=&quot; + result.errorCode + &quot;Err message=&quot; + result.message); 
      }
   });
</code>
</pre>
    <p>
      <strong>Example Output</strong>
    </p>
    <pre>
<code>Artist name: Ludwig van Beethoven, composer. Seattle Symphony. Gerard Schwarz, director, #tracks = 1, #albums=1
Artist name: Marc Seales, composer. New Stories. Ernie Watts, saxophone., #tracks = 1, #albums=1
Artist name: Elvis Presley, #tracks = 2, #albums=10
</code>
</pre>
    <p>
      <a name="audiofile" id="audiofile">&#160;</a>
    </p>
    <hr>
    <h2 id="audio-file">
      audio file
    </h2>
    <h3 id="schema-3">
      Schema
    </h3>
    <pre>
<code>{
   &quot;title&quot;        :  string,
   &quot;path&quot;         :  string,
   &quot;createdTime&quot;  :  float,
   &quot;size&quot;         :  int,
   &quot;duration&quot;     :  int,
   &quot;track&quot;        : { 
                      &quot;position&quot; : int,
                      &quot;total&quot;    : int 
                    }
   &quot;disc&quot;         : { 
                      &quot;position&quot; : int,
                      &quot;total&quot;    : int
                     }
   &quot;artist&quot;       :  string,
   &quot;album&quot;        :  string,
   &quot;genre&quot;        :  string,
   &quot;isRingtone&quot;   :  boolean,
   &quot;thumbnails&quot;   :  thumbnail array,
}
</code>
</pre>
    <h3 id="elements-3">
      Elements
    </h3>
    <table border="1">
      <thead>
        <tr>
          <th>
            Element
          </th>
          <th>
            Required
          </th>
          <th>
            Type
          </th>
          <th>
            Description
          </th>
        </tr>
      </thead>
      <tbody>
        <tr>
          <td>
            title
          </td>
          <td>
            Yes
          </td>
          <td>
            string
          </td>
          <td>
            Song title.
          </td>
        </tr>
        <tr>
          <td>
            path
          </td>
          <td>
            Yes
          </td>
          <td>
            string
          </td>
          <td>
            Song path.
          </td>
        </tr>
        <tr>
          <td>
            createdTime
          </td>
          <td>
            Yes
          </td>
          <td>
            float
          </td>
          <td>
            The time this song was created, expressed in seconds elapsed since midnight on January 1, 1970 (epoch).
          </td>
        </tr>
        <tr>
          <td>
            size
          </td>
          <td>
            Yes
          </td>
          <td>
            int
          </td>
          <td>
            File size in bytes.
          </td>
        </tr>
        <tr>
          <td>
            duration
          </td>
          <td>
            Yes
          </td>
          <td>
            int
          </td>
          <td>
            File duration in seconds.
          </td>
        </tr>
        <tr>
          <td>
            track
          </td>
          <td>
            Yes
          </td>
          <td>
            inline object
          </td>
          <td>
            See two elements below.
          </td>
        </tr>
        <tr bgcolor="blanchedAlmond">
          <td>
            track.position
          </td>
          <td>
            Yes
          </td>
          <td>
            int
          </td>
          <td>
            File's track number.
          </td>
        </tr>
        <tr bgcolor="blanchedAlmond">
          <td>
            track.total
          </td>
          <td>
            Yes
          </td>
          <td>
            int
          </td>
          <td>
            Number of tracks on file's album.
          </td>
        </tr>
        <tr>
          <td>
            disc
          </td>
          <td>
            Yes
          </td>
          <td>
            inline object
          </td>
          <td>
            See two elements below.
          </td>
        </tr>
        <tr bgcolor="blanchedAlmond">
          <td>
            disc.position
          </td>
          <td>
            Yes
          </td>
          <td>
            int
          </td>
          <td>
            File's position on disc.
          </td>
        </tr>
        <tr bgcolor="blanchedAlmond">
          <td>
            disc.total
          </td>
          <td>
            Yes
          </td>
          <td>
            int
          </td>
          <td>
            How many discs this file is on.
          </td>
        </tr>
        <tr>
          <td>
            artist
          </td>
          <td>
            Yes
          </td>
          <td>
            string
          </td>
          <td>
            Song artist.
          </td>
        </tr>
        <tr>
          <td>
            album
          </td>
          <td>
            Yes
          </td>
          <td>
            string
          </td>
          <td>
            Song album.
          </td>
        </tr>
        <tr>
          <td>
            genre
          </td>
          <td>
            Yes
          </td>
          <td>
            string
          </td>
          <td>
            Song genre, i.e., country, blues, etc.
          </td>
        </tr>
        <tr>
          <td>
            isRingtone
          </td>
          <td>
            Yes
          </td>
          <td>
            boolean
          </td>
          <td>
            Is song a ringtone flag.
          </td>
        </tr>
        <tr>
          <td>
            thumbnails
          </td>
          <td>
            Yes
          </td>
          <td>
            thumbnail array
          </td>
          <td>
            Song thumbnails.
          </td>
        </tr>
      </tbody>
    </table>
    <p>
      <strong>Example JavaScript db8 find</strong>
    </p>
    <pre>
<code>  var DB = libraries[&quot;foundations&quot;].Data.DB; // Get JS wrapper for DB calls

  //** Construct query, specifying fields to retrieve and kind
  var fquery = { &quot;select&quot; : [&quot;title&quot;, &quot;path&quot;, &quot;created&quot;, &quot;size&quot;, &quot;duration&quot;, &quot;artist&quot;, &quot;album&quot;, &quot;genre&quot;, &quot;isRingtone&quot; ], &quot;from&quot;:&quot;com.palm.media.audio.file:1&quot;};

   DB.find(fquery, false, false).then(function(future) {  // Get data, no watch, no count
      var result = future.result;

      if (result.returnValue == true)   // Success
      {
         var audiofiles = result.results;
         var i = 0;
         while (audiofiles[i] != null)
         {
            Mojo.Log.info(&quot;title: &quot;+audiofiles[i].title+ &quot;,  path: &quot;+ audiofiles[i].path + &quot;, created: &quot;+audiofiles[i].createdTime+&quot;,  size: &quot;+ audiofiles[i].size);    
            Mojo.Log.info(&quot;duration: &quot;+audiofiles[i].duration+ &quot;,  artist: &quot;+ audiofiles[i].artist + &quot;, album: &quot;+audiofiles[i].album+&quot;,  genre: &quot;+ audiofiles[i].genre+&quot;,  isRingtone: &quot;+ audiofiles[i++].isRingtone);   
         } 
      } 
      else
      {  
         result = future.exception;
         Mojo.Log.info(&quot;find failure: Err code=&quot; + result.errorCode + &quot;Err message=&quot; + result.message); 
      }
   });
</code>
</pre>
    <p>
      <strong>Example Output</strong>
    </p>
    <pre>
<code>title: Anticipation (short), path: /media/internal/ringtones/Anticipation (short).mp3, created: undefined, size: 37990,
duration: 0, artist: Palm, Inc., album: webOS Alert Sounds, genre: Alert Sounds, isRingtone: true
title: Dulcimer (short), path: /media/internal/ringtones/Dulcimer (short).mp3, created: undefined, size: 45101,
duration: 0, artist: Palm, Inc., album: webOS Alert Sounds, genre: Alert Sounds, isRingtone: true
title: Dulcimer, path: /media/internal/ringtones/Dulcimer.mp3, created: undefined, size: 1308978
duration: 0, artist: Palm, Inc., album: Pre Ringtones, genre: Ringtones, isRingtone: true
title: Rain Dance (short), path: /media/internal/ringtones/Rain Dance (short).mp3, created: undefined, size: 49047,  duration: 0, artist: Palm, Inc., album: webOS Alert Sounds, genre: Alert Sounds, isRingtone: true
title: Symphony No. 9 (Scherzo), path: /media/internal/DCIM/100PALM/01 Symphony No. 9 (Scherzo).m4a, created: undefined, size: 2201304
duration: 75.72, artist: Ludwig van Beethoven, composer. Seattle Symphony. Gerard Schwarz, director, album: Beethoven: Symphonies Nos. 5 &amp; 9 &quot;Choral&quot;; Piano Concerto No. 5 &quot;Emperor&quot; Disc 1, genre: Classical, isRingtone: false
title: &quot;Highway Blues&quot;, path: /media/internal/DCIM/100PALM/01 _Highway Blues_.m4a, created: undefined, size: 2976455, 
duration: 93.65, artist: Marc Seales, composer. New Stories. Ernie Watts, saxophone., album: Speakin' Out, genre: Jazz, isRingtone: false 
</code>
</pre>
    <p>
      <a name="genreobject" id="genreobject">&#160;</a>
    </p>
    <hr>
    <h2 id="genre">
      genre
    </h2>
    <h3 id="schema-4">
      Schema
    </h3>
    <pre>
<code>{
   &quot;name&quot;       : string,
   &quot;total&quot;      : { 
                    &quot;tracks&quot; : int,
                    &quot;albums&quot; : int 
                  } 
   &quot;thumbnails&quot; : thumbnail array
}
</code>
</pre>
    <h3 id="elements-4">
      Elements
    </h3>
    <table border="1">
      <thead>
        <tr>
          <th>
            Element
          </th>
          <th>
            Required
          </th>
          <th>
            Type
          </th>
          <th>
            Description
          </th>
        </tr>
      </thead>
      <tbody>
        <tr>
          <td>
            name
          </td>
          <td>
            Yes
          </td>
          <td>
            string
          </td>
          <td>
            Genre name.
          </td>
        </tr>
        <tr>
          <td>
            total
          </td>
          <td>
            Yes
          </td>
          <td>
            inline object
          </td>
          <td>
            See two elements below.
          </td>
        </tr>
        <tr bgcolor="blanchedAlmond">
          <td>
            total.tracks
          </td>
          <td>
            Yes
          </td>
          <td>
            int
          </td>
          <td>
            The number of tracks on the device by this artist.
          </td>
        </tr>
        <tr bgcolor="blanchedAlmond">
          <td>
            total.albums
          </td>
          <td>
            Yes
          </td>
          <td>
            int
          </td>
          <td>
            The number of albums on the device by this artist.
          </td>
        </tr>
        <tr>
          <td>
            thumbnails
          </td>
          <td>
            No
          </td>
          <td>
            thumbnail array
          </td>
          <td>
            Genre's thumbnails.
          </td>
        </tr>
      </tbody>
    </table>
    <p>
      <strong>Example JavaScript db8 find</strong>
    </p>
    <pre>
<code>  var DB = libraries[&quot;foundations&quot;].Data.DB; // Get JS wrapper for DB calls

  //** Construct query, specifying fields to retrieve and kind
  var fquery = { &quot;select&quot; : [&quot;name&quot;, &quot;total.tracks&quot;, &quot;total.albums&quot;], &quot;from&quot;:&quot;com.palm.media.audio.genre:1&quot;};

   DB.find(fquery, false, false).then(function(future) { // Get data, no watch, no count
      var result = future.result;

      if (result.returnValue == true)   // Success
      {
         var genreobjects = result.results;
         var i = 0;
              while (genreobjects[i] != null)
                     Mojo.Log.info(&quot;Name: &quot;+genreobjects[i].name+ &quot;,  #tracks: &quot;+ genreobjects[i].total.tracks + &quot;, #albums=&quot;+genreobjects[i++].total.albums);  
      } 
      else
      {  
         result = future.exception;
         Mojo.Log.info(&quot;find failure: Err code=&quot; + result.errorCode + &quot;Err message=&quot; + result.message); 
      }
   });
</code>
</pre>
    <p>
      <strong>Example Output</strong>
    </p>
    <pre>
<code>Name: Classical, #tracks: 1, #albums=1
Name: Jazz, #tracks: 1, #albums=1
</code>
</pre>
    <p>
      <a name="image" id="image">&#160;</a>
    </p>
    <hr>
    <h2 id="image">
      image
    </h2>
    <h3 id="schema-5">
      Schema
    </h3>
    <pre>
<code>{
   &quot;path&quot;       : string,
   &quot;created&quot;    : int,
   &quot;albumId&quot;    : string,   
   &quot;thumbnails&quot; : thumbnail array
}
</code>
</pre>
    <h3 id="elements-5">
      Elements
    </h3>
    <table border="1">
      <thead>
        <tr>
          <th>
            Element
          </th>
          <th>
            Required
          </th>
          <th>
            Type
          </th>
          <th>
            Description
          </th>
        </tr>
      </thead>
      <tbody>
        <tr>
          <td>
            path
          </td>
          <td>
            Yes
          </td>
          <td>
            string
          </td>
          <td>
            Path to file on disk.
          </td>
        </tr>
        <tr>
          <td>
            created
          </td>
          <td>
            Yes
          </td>
          <td>
            int
          </td>
          <td>
            The metadata information for the created time in seconds.
          </td>
        </tr>
        <tr>
          <td>
            albumId
          </td>
          <td>
            Yes
          </td>
          <td>
            string
          </td>
          <td>
            The ID of the image's album.
          </td>
        </tr>
        <tr>
          <td>
            thumbnails
          </td>
          <td>
            No
          </td>
          <td>
            thumbnail array
          </td>
          <td>
            Thumbnails for this image.
          </td>
        </tr>
      </tbody>
    </table>
    <p>
      <strong>Example JavaScript db8 find</strong>
    </p>
    <pre>
<code>  var DB = libraries[&quot;foundations&quot;].Data.DB; // Get JS wrapper for DB calls

    var fquery = { &quot;from&quot;:&quot;com.palm.media.image.file:1&quot; };

    DB.find(fquery, false, false).then(function(future) { // Get data, no watch, no count
      var result = future.result;   

      if (result.returnValue == true)   // Success
      {
         Mojo.Log.info(&quot;Success: Images= &quot;+JSON.stringify(result.results)); 
      } 
      else // Failure
      {  
         result = future.exception;
         Mojo.Log.info(&quot;find failure: Err code=&quot; + result.errorCode + &quot;Err message=&quot; + result.message); 
      }
   });
</code>
</pre>
    <p>
      <strong>Example Output</strong>
    </p>
    <pre>
<code>Success: Images= [
{
  &quot;_id&quot;:&quot;2+4Q&quot;,
  &quot;_kind&quot;:&quot;com.palm.media.image.file:1&quot;,
  &quot;_rev&quot;:433,
  &quot;albumId&quot;:&quot;2+5a&quot;,
  &quot;albumPath&quot;:&quot;/media/internal/wallpapers&quot;,
  &quot;createdTime&quot;:0,
  &quot;path&quot;:&quot;/media/internal/wallpapers/06.jpg&quot;,
  &quot;thumbnails&quot;:[
     {
        &quot;_id&quot;:&quot;2+4R&quot;,
        &quot;data&quot;:{
           &quot;length&quot;:0,
           &quot;offset&quot;:0,
           &quot;path&quot;:&quot;/media/internal/wallpapers/06.jpg&quot;
        },
        &quot;type&quot;:&quot;embedded&quot;
     }
  ]
},
{
  &quot;_id&quot;:&quot;2+4_&quot;,
  &quot;_kind&quot;:&quot;com.palm.media.image.file:1&quot;,
  &quot;_rev&quot;:438,
  &quot;albumId&quot;:&quot;2+5a&quot;,
  &quot;albumPath&quot;:&quot;/media/internal/wallpapers&quot;,
  &quot;createdTime&quot;:0,
  &quot;path&quot;:&quot;/media/internal/wallpapers/07.jpg&quot;,
  &quot;thumbnails&quot;:[
     {
        &quot;_id&quot;:&quot;2+4a&quot;,
        &quot;data&quot;:{
           &quot;length&quot;:0,
           &quot;offset&quot;:0,
           &quot;path&quot;:&quot;/media/internal/wallpapers/07.jpg&quot;
        },
        &quot;type&quot;:&quot;embedded&quot;
     }
  ]
},
{
  &quot;_id&quot;:&quot;2+4d&quot;,
  &quot;_kind&quot;:&quot;com.palm.media.image.file:1&quot;,
  &quot;_rev&quot;:440,
  &quot;albumId&quot;:&quot;2+5a&quot;,
  &quot;albumPath&quot;:&quot;/media/internal/wallpapers&quot;,
  &quot;createdTime&quot;:0,
  &quot;path&quot;:&quot;/media/internal/wallpapers/12.jpg&quot;,
  &quot;thumbnails&quot;:[
     {
        &quot;_id&quot;:&quot;2+4e&quot;,
        &quot;data&quot;:{
           &quot;length&quot;:0,
           &quot;offset&quot;:0,
           &quot;path&quot;:&quot;/media/internal/wallpapers/12.jpg&quot;
        },
        &quot;type&quot;:&quot;embedded&quot;
     }
  ]
}
]
</code>
</pre>
    <p>
      <a name="playlistobject" id="playlistobject">&#160;</a>
    </p>
    <hr>
    <h2 id="playlist">
      playlist
    </h2>
    <h3 id="schema-6">
      Schema
    </h3>
    <pre>
<code>{
   &quot;name&quot;       : string,
   &quot;songIds&quot;    : string array, 
   &quot;thumbnails&quot; : thumbnail array
}
</code>
</pre>
    <h3 id="elements-6">
      Elements
    </h3>
    <table border="1">
      <thead>
        <tr>
          <th>
            Element
          </th>
          <th>
            Required
          </th>
          <th>
            Type
          </th>
          <th>
            Description
          </th>
        </tr>
      </thead>
      <tbody>
        <tr>
          <td>
            name
          </td>
          <td>
            Yes
          </td>
          <td>
            string
          </td>
          <td>
            Playlist name. Not necessarily unique.
          </td>
        </tr>
        <tr>
          <td>
            songIds
          </td>
          <td>
            Yes
          </td>
          <td>
            string array
          </td>
          <td>
            In order array of db8 IDs of audiofile (&quot;com.palm.media.audio.file:1&quot;) objects.
          </td>
        </tr>
        <tr>
          <td>
            thumbnails
          </td>
          <td>
            No
          </td>
          <td>
            thumbnail array
          </td>
          <td>
            Playlist thumbnails.
          </td>
        </tr>
      </tbody>
    </table>
    <p>
      <strong>Example JavaScript db8 find</strong>
    </p>
    <pre>
<code>  var DB = libraries[&quot;foundations&quot;].Data.DB; // Get JS wrapper for DB calls

  //** Construct query, specifying fields to retrieve and kind
  var fquery = { &quot;select&quot; : [&quot;name&quot;, &quot;path&quot;, &quot;songIds&quot;], &quot;from&quot;:&quot;com.palm.media.playlist.object:1&quot;};

   DB.find(fquery, false, true).then(function(future) {
      var result = future.result;  
      if (result.returnValue == true)   // Success
      {
         var playlistobjects = result.results;
         var i = 0;
         while (playlistobjects[i] != null) 
         {
            Mojo.Log.info(&quot;Name: &quot;+playlistobjects[i].name+ &quot;, IDs: &quot;+playlistobjects[i++].songIds); 
          } 
      } 
      else
      {  
         result = future.exception;
         Mojo.Log.info(&quot;find failure: Err code=&quot; + result.errorCode + &quot;Err message=&quot; + result.message); 
      }
   });
</code>
</pre>
    <p>
      <strong>Example Output</strong>
    </p>
    <pre>
<code>Name: Beatles, IDs: 2+SN,2+ST,2+SW,2+SV
</code>
</pre>
    <p>
      <a name="thumbnail" id="thumbnail">&#160;</a>
    </p>
    <hr>
    <h2 id="thumbnail">
      thumbnail
    </h2>
    <h3 id="schema-7">
      Schema
    </h3>
    <pre>
<code>{
   &quot;type&quot;             : string,
   &quot;data&quot;             : {
                          &quot;path&quot;     : string,
                          &quot;offset&quot;   : int,
                          &quot;length&quot;   : int  
                        } 
   &quot;cacheEntry&quot;       : {
                          &quot;pathName&quot; : string,
                          &quot;aspect&quot;   : string,
                          &quot;width&quot;    : int,
                          &quot;height&quot;   : int
                        }
}
</code>
</pre>
    <h3 id="elements-7">
      Elements
    </h3>
    <table border="1">
      <thead>
        <tr>
          <th>
            Element
          </th>
          <th>
            Required
          </th>
          <th>
            Type
          </th>
          <th>
            Description
          </th>
        </tr>
      </thead>
      <tbody>
        <tr>
          <td>
            type
          </td>
          <td>
            Yes
          </td>
          <td>
            string
          </td>
          <td>
            Thumbnail format - &quot;external&quot; or &quot;embedded&quot; (on device).
          </td>
        </tr>
        <tr>
          <td>
            data
          </td>
          <td>
            Yes
          </td>
          <td>
            inline object
          </td>
          <td>
            See three fields below.
          </td>
        </tr>
        <tr bgcolor="blanchedAlmond">
          <td>
            data.path
          </td>
          <td>
            Yes
          </td>
          <td>
            string
          </td>
          <td>
            Location on device.
          </td>
        </tr>
        <tr bgcolor="blanchedAlmond">
          <td>
            data.offset
          </td>
          <td>
            Yes
          </td>
          <td>
            int
          </td>
          <td>
            Offset into path where data is contained.
          </td>
        </tr>
        <tr bgcolor="blanchedAlmond">
          <td>
            data.length
          </td>
          <td>
            Yes
          </td>
          <td>
            int
          </td>
          <td>
            Length of data in path (requires offset).
          </td>
        </tr>
        <tr>
          <td>
            cacheEntry
          </td>
          <td>
            Yes
          </td>
          <td>
            inline object
          </td>
          <td>
            See four fields below
          </td>
        </tr>
        <tr bgcolor="blanchedAlmond">
          <td>
            cacheEntry.pathName
          </td>
          <td>
            Yes
          </td>
          <td>
            string
          </td>
          <td>
            Path determined from filecache/InsertCacheObject
          </td>
        </tr>
        <tr bgcolor="blanchedAlmond">
          <td>
            cacheEntry.aspect
          </td>
          <td>
            Yes
          </td>
          <td>
            string
          </td>
          <td>
            Aspect used to crop at width/height specified.
          </td>
        </tr>
        <tr bgcolor="blanchedAlmond">
          <td>
            cacheEntry.width
          </td>
          <td>
            Yes
          </td>
          <td>
            int
          </td>
          <td>
            Cache entry width (less than or equal to this value).
          </td>
        </tr>
        <tr bgcolor="blanchedAlmond">
          <td>
            cacheEntry.height
          </td>
          <td>
            Yes
          </td>
          <td>
            int
          </td>
          <td>
            Cache entry height (less than or equal to this value).
          </td>
        </tr>
      </tbody>
    </table>
    <p>
      <a name="videofile" id="videofile">&#160;</a>
    </p>
    <hr>
    <h2 id="video-file">
      video file
    </h2>
    <h3 id="schema-8">
      Schema
    </h3>
    <pre>
<code>{
   &quot;path&quot;             : string,
   &quot;capturedOnDevice&quot; : boolean,
   &quot;modifiedTime&quot;     : float,
   &quot;createdTime&quot;      : float,
   &quot;title&quot;            : string,
   &quot;size&quot;             : int,
   &quot;playbackPosition&quot; : int,
   &quot;duration&quot;         : int,
   &quot;description&quot;      : string,
   &quot;thumbnails&quot;       : thumbnail array
}
</code>
</pre>
    <h3 id="elements-8">
      Elements
    </h3>
    <table border="1">
      <thead>
        <tr>
          <th>
            Element
          </th>
          <th>
            Required
          </th>
          <th>
            Type
          </th>
          <th>
            Description
          </th>
        </tr>
      </thead>
      <tbody>
        <tr>
          <td>
            path
          </td>
          <td>
            Yes
          </td>
          <td>
            string
          </td>
          <td>
            Video path.
          </td>
        </tr>
        <tr>
          <td>
            capturedOnDevice
          </td>
          <td>
            Yes
          </td>
          <td>
            boolean
          </td>
          <td>
            Was file captured on device flag.
          </td>
        </tr>
        <tr>
          <td>
            createdTime
          </td>
          <td>
            Yes
          </td>
          <td>
            float
          </td>
          <td>
            The time this video was created, expressed in seconds since midnight on January 1, 1970 (epoch).
          </td>
        </tr>
        <tr>
          <td>
            modifiedTime
          </td>
          <td>
            Yes
          </td>
          <td>
            float
          </td>
          <td>
            The time this video was last modified, expressed in seconds since midnight on January 1, 1970 (epoch).
          </td>
        </tr>
        <tr>
          <td>
            title
          </td>
          <td>
            Yes
          </td>
          <td>
            string
          </td>
          <td>
            Video name.
          </td>
        </tr>
        <tr>
          <td>
            size
          </td>
          <td>
            Yes
          </td>
          <td>
            int
          </td>
          <td>
            File size in bytes.
          </td>
        </tr>
        <tr>
          <td>
            playbackPosition
          </td>
          <td>
            Yes
          </td>
          <td>
            int
          </td>
          <td>
            The last playback position in milliseconds.
          </td>
        </tr>
        <tr>
          <td>
            duration
          </td>
          <td>
            Yes
          </td>
          <td>
            int
          </td>
          <td>
            Video duration in milliseconds.
          </td>
        </tr>
        <tr>
          <td>
            description
          </td>
          <td>
            Yes
          </td>
          <td>
            string
          </td>
          <td>
            Video description.
          </td>
        </tr>
        <tr>
          <td>
            thumbnails
          </td>
          <td>
            Yes
          </td>
          <td>
            thumbnail array
          </td>
          <td>
            Video thumbnails.
          </td>
        </tr>
      </tbody>
    </table>
    <p>
      <strong>Example JavaScript db8 find</strong>
    </p>
    <pre>
<code>  var DB = libraries[&quot;foundations&quot;].Data.DB; // Get JS wrapper for DB calls

  //** Construct query, specifying fields to retrieve and kind
  var fquery = { &quot;select&quot; : [&quot;path&quot;, &quot;modifiedTime&quot;, &quot;createdTime&quot;, &quot;title&quot;, &quot;size&quot;, &quot;playbackPosition&quot;, &quot;duration&quot;, &quot;description&quot;], &quot;from&quot;:&quot;com.palm.media.video.file:1&quot;};

   DB.find(fquery, false, false).then(function(future) { // Get data, no watch, no count
      var result = future.result;

      if (result.returnValue == true)   // Success
      {
         var videofiles = result.results;
         var i = 0;
         while (videofiles[i] != null) 
         {
            Mojo.Log.info(&quot;Path: &quot;+videofiles[i].path+ &quot;, Modified: &quot;+ videofiles[i].modifiedTime+&quot;, Created: &quot;+videofiles[i].createdTime + &quot;, Title: &quot;+videofiles[i].title); 
            Mojo.Log.info(&quot;Size: &quot;+videofiles[i].size+ &quot;, Playback Position: &quot;+ videofiles[i].playbackPosition+&quot;, Duration: &quot;+videofiles[i].duration + &quot;, Description: &quot;+videofiles[i++].description);                           
         }
      } 
      else
      {  
         result = future.exception;
         Mojo.Log.info(&quot;find failure: Err code=&quot; + result.errorCode + &quot;Err message=&quot; + result.message); 
      }
   });
</code>
</pre>
    <p>
      <strong>Example Output</strong>
    </p>
    <pre>
<code>Path: /media/internal/demo.mpg, Modified: 1276805542, Created: 1267477942, Title: Palm Pre Demo
Size: 2000000, Playback Position: 30000, Duration: 3000000, Description: Demo of Palm Pre features and how to use them
Path: /media/internal/HowToEmail.avi, Modified: 1275855932, Created: 1262381132, Title: How to send email
Size: 1000000, Playback Position: 7890399, Duration: 180000000, Description: Demo of how to send email from a Palm Pre
</code>
</pre>
		</div>
	</body>
</html>