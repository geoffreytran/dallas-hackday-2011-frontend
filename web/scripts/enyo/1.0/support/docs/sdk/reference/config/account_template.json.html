<!DOCTYPE html>
<html>
	<head>
		<title>$if(pagetitle)$$pagetitle$$endif$</title>
		<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
		<link rel="stylesheet" href="_css/chrome.css" />
		<link rel="stylesheet" href="../_css/chrome.css" />
		<link rel="stylesheet" href="../../_css/chrome.css" />
		<link rel="stylesheet" href="../../../_css/chrome.css" />
		<script src="_js/jquery-1.4.2.min.js" type="text/javascript"></script>
		<script src="../_js/jquery-1.4.2.min.js" type="text/javascript"></script>
		<script src="../../_js/jquery-1.4.2.min.js" type="text/javascript"></script>
		<script src="../../../_js/jquery-1.4.2.min.js" type="text/javascript"></script>
		<script src="_js/doc.js" type="text/javascript"></script>
		<script src="../_js/doc.js" type="text/javascript"></script>
		<script src="../../_js/doc.js" type="text/javascript"></script>
		<script src="../../../_js/doc.js" type="text/javascript"></script>
	</head>
	<body>
		<div id="content">
    
    <h1 id="account_template.json">
      account_template.json
    </h1>
    <h2 id="overview">
      Overview
    </h2>
    <p>
      Each <a href="/dev-guide/synergy/overview.html">Synergy</a> service that wants to interact with the <a href="/dev-guide/synergy/account-manager.html">Account Manager</a> service stores a file containing callbacks and metadata in <code>/usr/palm/public/accounts</code>. At Account service start-up, this file is scanned and registered.
    </p>
    <p>
      Third-party apps creating services that interact with the Account Manager are required to be packaged with an <code>account-template.json</code> file containing this object along with accompanying metadata such as account icons and localized text.
    </p>
    <h2 id="schema">
      Schema
    </h2>
    <blockquote>
      <pre>
<code>{
  &quot;templateId&quot;            : string,
  &quot;loc_name&quot;              : string,
  &quot;loc_usernameLabel&quot;     : string,
  &quot;icon&quot;                  : IconObj,
  &quot;hidden&quot;                : boolean,
  &quot;config&quot;                : any, 
  &quot;validator&quot;             : string | CustomValidatorObj object, 
  &quot;readPermissions&quot;       : array of string,
  &quot;writePermissions&quot;      : array of string,
  &quot;onCapabilitiesChanged&quot; : string, 
  &quot;onCredentialsChanged&quot;  : string, 
  &quot;disableRemove&quot;         : boolean,
  &quot;capabilityProviders&quot;   : capability array
  ... other user-defined fields ...
}
</code>
</pre>
    </blockquote>
    <h2 id="elements">
      Elements
    </h2>
    <table border="1">
      <thead>
        <tr>
          <th>
            Element
          </th>
          <th>
            Required
          </th>
          <th>
            Type
          </th>
          <th>
            Description
          </th>
        </tr>
      </thead>
      <tbody>
        <tr>
          <td>
            templateId
          </td>
          <td>
            Yes
          </td>
          <td>
            string
          </td>
          <td>
            Template ID.
          </td>
        </tr>
        <tr>
          <td>
            loc_name
          </td>
          <td>
            Yes
          </td>
          <td>
            string
          </td>
          <td>
            Localizable name, i.e., &quot;Google&quot;.
          </td>
        </tr>
        <tr>
          <td>
            loc_usernameLabel
          </td>
          <td>
            No
          </td>
          <td>
            string
          </td>
          <td>
            Localizable username field label. For example: &quot;Email Address&quot;. Default is &quot;Username&quot;.
          </td>
        </tr>
        <tr>
          <td>
            icon
          </td>
          <td>
            No
          </td>
          <td>
            IconObj
          </td>
          <td>
            Location of app's icons.
          </td>
        </tr>
        <tr>
          <td>
            hidden
          </td>
          <td>
            No
          </td>
          <td>
            boolean
          </td>
          <td>
            Default is <code>false</code>.
          </td>
        </tr>
        <tr>
          <td>
            config
          </td>
          <td>
            No
          </td>
          <td>
            any
          </td>
          <td>
            Opaque configuration objects sent to validator. Typically, this is populated with server configuration data.
          </td>
        </tr>
        <tr>
          <td>
            validator
          </td>
          <td>
            No
          </td>
          <td>
            string
          </td>
          <td>
            Callback or CustomValidatorObj
          </td>
        </tr>
        <tr>
          <td>
            readPermissions
          </td>
          <td>
            Yes
          </td>
          <td>
            string array
          </td>
          <td>
            Array of IDs of apps that can read account or credential information. Specifically, this means they are allowed to make the following calls: <code>getAccountInfo</code> and <code>readCredentials</code>.
          </td>
        </tr>
        <tr>
          <td>
            writePermissions
          </td>
          <td>
            No
          </td>
          <td>
            string array
          </td>
          <td>
            Array of IDs of apps that can create or modify account information and credentials. Specifically, this means they are allowed to make the following calls: <code>createAccount</code>, <code>deleteAccount</code>, <code>modifyAccount</code> and <code>writeCredentials</code>. If omitted, then only the Accounts app can make these calls.
          </td>
        </tr>
        <tr>
          <td>
            onCapabilitiesChanged
          </td>
          <td>
            No
          </td>
          <td>
            string
          </td>
          <td>
            Method to call when account capabilities change.
          </td>
        </tr>
        <tr>
          <td>
            onCredentialsChanged
          </td>
          <td>
            No
          </td>
          <td>
            string
          </td>
          <td>
            Method to call when account credentials change.
          </td>
        </tr>
        <tr>
          <td>
            disableRemove
          </td>
          <td>
            No
          </td>
          <td>
            boolean
          </td>
          <td>
            Should users be allowed to remove this account flag. Default is <code>true</code>.
          </td>
        </tr>
        <tr>
          <td>
            capabilityProviders
          </td>
          <td>
            Yes
          </td>
          <td>
            capability array
          </td>
          <td>
            Account capabilities
          </td>
        </tr>
      </tbody>
    </table>
    <h2 id="example">
      Example
    </h2>
    <blockquote>
      <pre>
<code>{
  &quot;templateId&quot;: &quot;com.palm.google&quot;,
  &quot;loc_name&quot;: &quot;Google&quot;,
  &quot;icon&quot;: {
      &quot;loc_32x32&quot;: &quot;images/google-32x32.png&quot;,
      &quot;loc_48x48&quot;: &quot;images/google-48x48.png&quot;
  },
  &quot;validator&quot;: &quot;palm://com.palm.service.contacts.google/checkCredentials&quot;,
  &quot;capabilityProviders&quot;: [
      {
          &quot;capability&quot;: &quot;CONTACTS&quot;,
          &quot;id&quot;: &quot;com.palm.google.contacts&quot;,
          &quot;loc_name&quot;: &quot;Google Contacts&quot;,
          &quot;implementation&quot;: &quot;palm://com.palm.service.contacts.google/&quot;,
          &quot;onCreate&quot;: &quot;palm://com.palm.service.contacts.google/onCreate&quot;,
          &quot;onEnabled&quot;: &quot;palm://com.palm.service.contacts.google/onEnabled&quot;,
          &quot;onDelete&quot;: &quot;palm://com.palm.service.contacts.google/onDelete&quot;
      },
      {
          &quot;capability&quot;: &quot;MESSAGING&quot;,
          &quot;capabilitySubtype&quot;: &quot;IM&quot;,
          &quot;id&quot;: &quot;com.palm.google.talk&quot;,
          &quot;loc_name&quot;: &quot;Google Talk&quot;,
          &quot;icon&quot;: {
              &quot;loc_32x32&quot;: &quot;images/gtalk32x32.png&quot;,
              &quot;loc_48x48&quot;: &quot;images/gtalk48x48.png&quot;,
              &quot;splitter&quot;: &quot;images/gtalk_transport_splitter.png&quot;
          },
          &quot;implementation&quot;: &quot;palm://com.palm.imlibpurple/&quot;,
          &quot;onEnabled&quot;: &quot;palm://com.palm.imlibpurple/onEnabled&quot;,
          &quot;serviceName&quot;:&quot;service_gtalk&quot;,
          &quot;dbkinds&quot;: {
              &quot;immessage&quot;:&quot;com.palm.immessage.libpurple&quot;,
              &quot;imcommand&quot;:&quot;com.palm.imcommand.libpurple&quot;
          }
      }
  ]
}
</code>
</pre>
    </blockquote>
		</div>
	</body>
</html>