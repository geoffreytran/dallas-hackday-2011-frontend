<!DOCTYPE html>
<html>
	<head>
		<title>$if(pagetitle)$$pagetitle$$endif$</title>
		<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
		<link rel="stylesheet" href="_css/chrome.css" />
		<link rel="stylesheet" href="../_css/chrome.css" />
		<link rel="stylesheet" href="../../_css/chrome.css" />
		<link rel="stylesheet" href="../../../_css/chrome.css" />
		<script src="_js/jquery-1.4.2.min.js" type="text/javascript"></script>
		<script src="../_js/jquery-1.4.2.min.js" type="text/javascript"></script>
		<script src="../../_js/jquery-1.4.2.min.js" type="text/javascript"></script>
		<script src="../../../_js/jquery-1.4.2.min.js" type="text/javascript"></script>
		<script src="_js/doc.js" type="text/javascript"></script>
		<script src="../_js/doc.js" type="text/javascript"></script>
		<script src="../../_js/doc.js" type="text/javascript"></script>
		<script src="../../../_js/doc.js" type="text/javascript"></script>
	</head>
	<body>
		<div id="content">
    
    <h1 id="system-services">
      System Services
    </h1>
    <p>
      The system exposes a general set of services enabling applications to access various system settings. It is part of the System Manager and is available only when the UI is running.
    </p>
    <p>
      <strong>Methods</strong>
    </p>
    <ul>
      <li>
        <a href="#prefs">Preferences Methods</a> -- URI is <code>com.palm.systemservice/</code>
      </li>
      <li>
        <a href="#time">Time Method</a> -- URI is <code>com.palm.systemservice/time/getSystemTime</code>
      </li>
      <li>
        <a href="#wallpaper">Wallpaper Methods</a> -- URI is <code>com.palm.systemservice/wallpaper/</code>
      </li>
    </ul><a name="prefs" id="prefs"></a>
    <hr>
    <h2 id="preferences-methods">
      Preferences Methods
    </h2>
    <ul>
      <li>
        <a href="#getPreferences">getPreferences</a>
      </li>
      <li>
        <a href="#getPreferenceValues">getPreferenceValues</a>
      </li>
      <li>
        <a href="#setPreferences">setPreferences</a>
      </li>
    </ul>
    <p>
      <strong>NOTE</strong>
    </p>
    <p>
      The preferences database is not secure. Apps should not rely on it for system settings or storing data. Apps that require persistent storage should use the db8 database.
    </p><a name="getPreferences" id="getPreferences"></a>
    <hr>
    <h3 id="getpreferences">
      getPreferences
    </h3>
    <p>
      Retrieves the values for keys specified in a passed array. If subscribe is set to <code>true</code>, then getPreferences sends an update if the key values change.
    </p>
    <h4 id="syntax">
      Syntax
    </h4>
    <pre>
{
    "keys"      : string array,
    "subscribe" : boolean
}   
</pre>
    <h4 id="parameters">
      Parameters
    </h4>
    <table border="1" cellspacing="2" cellpadding="2">
      <thead>
        <tr>
          <th>
            Parameter
          </th>
          <th>
            Required
          </th>
          <th>
            Type
          </th>
          <th>
            Description
          </th>
        </tr>
      </thead>
      <tbody>
        <tr>
          <td>
            keys
          </td>
          <td>
            Yes
          </td>
          <td>
            string array
          </td>
          <td>
            An array of key names.
          </td>
        </tr>
        <tr>
          <td>
            subscribe
          </td>
          <td>
            No
          </td>
          <td>
            boolean
          </td>
          <td>
            If true, getPreferences sends an update whenever the value of one of the keys changes.
          </td>
        </tr>
      </tbody>
    </table>
    <h4 id="returns">
      Returns
    </h4>
    <pre>
{
   "returnValue" : boolean,
   "[no name]"   : object
}
</pre>
    <table border="1" cellspacing="2" cellpadding="2">
      <thead>
        <tr>
          <th>
            Attribute
          </th>
          <th>
            Required
          </th>
          <th>
            Type
          </th>
          <th>
            Description
          </th>
        </tr>
      </thead>
      <tbody>
        <tr>
          <td>
            returnValue
          </td>
          <td>
            Yes
          </td>
          <td>
            boolean
          </td>
          <td>
            true (success) or false (failure)
          </td>
        </tr>
        <tr>
          <td>
            {no name}
          </td>
          <td>
            No
          </td>
          <td>
            object
          </td>
          <td>
            Key-value pairs containing the values for the requested preferences. If the requested preferences key or keys do not exist, the object is empty.
          </td>
        </tr>
      </tbody>
    </table>
    <h4 id="examples">
      Examples
    </h4>
    <p>
      <strong>luna-send</strong>
    </p>
    <pre>
luna-send -n 1  luna://com.palm.systemservice/getPreferences '{"keys":["wallpaper"]}'
{ "wallpaper": { "wallpaperThumbFile": "\/media\/internal\/wallpapers\/thumbs\/Mekong.jpg", "wallpaperName": "Mekong.jpg", "wallpaperFile": "\/media\/internal\/wallpapers\/Mekong.jpg" }, "returnValue": true }
</pre>
    <p>
      <strong>Enyo</strong>
    </p>
    <pre>
. . .

{
    name : "getPreferencesCall",
    kind : "PalmService",
    service : "palm://com.palm.systemservice/",
    method : "getPreferences",
    onSuccess : "getPrefsSuccess",
    onFailure : "getPrefsFailure",
    onResponse : "gotResponse",
    subscribe : true
 }, 

. . . 

getPrefsSuccess : function(inSender, inResponse) {
   enyo.log("getPreferences success, results=" + enyo.json.stringify(inResponse));
},
getPrefsFailure : function(inSender, inResponse) {
   enyo.log("getPreferences failure, results=" + enyo.json.stringify(inResponse));
},
getPrefs : function(inSender, inResponse)
{
   this.$.getPreferencesCall.call({"keys":["locale"] });
}
</pre>
    <p>
      <strong>Mojo</strong>
    </p>
    <pre>
this.controller.serviceRequest('palm://com.palm.systemservice', {
     method:"getPreferences",
     parameters:{"keys":["locale"]},
     onSuccess : function (e){ Mojo.Log.info("getPreferences success, results="+JSON.stringify(e)); },
     onFailure : function (e){ Mojo.Log.info("getPreferences failure, results="+JSON.stringify(e)); }
});     
</pre>
    <p>
      <strong>Success</strong>
    </p>
    <pre>
getPreferences success, results=
{
   "locale":{
      "languageCode":"en",
      "countryCode":"us",
      "phoneRegion":{
         "countryName":"United States",
         "countryCode":"us"
      }
   },
   "returnValue":true
}
</pre><a name="getPreferenceValues" id="getPreferenceValues"></a>
    <hr>
    <h3 id="getpreferencevalues">
      getPreferenceValues
    </h3>
    <p>
      Retrieve the list of valid values for the specified key. If the key is of a type that takes one of a discrete set of valid values, getPreferenceValues returns that set. For example, calling getPreferences on timeFormat returns &quot;HH12&quot; and &quot;HH24&quot;. Otherwise, getPreferenceValues returns nothing for the key.
    </p>
    <h4 id="syntax-1">
      Syntax
    </h4>
    <pre>
{
    "key" : string
}
</pre>
    <h4 id="parameters-1">
      Parameters
    </h4>
    <table border="1" cellspacing="2" cellpadding="2">
      <thead>
        <tr>
          <th>
            Parameter
          </th>
          <th>
            Required
          </th>
          <th>
            Type
          </th>
          <th>
            Description
          </th>
        </tr>
      </thead>
      <tbody>
        <tr>
          <td>
            key
          </td>
          <td>
            Yes
          </td>
          <td>
            string
          </td>
          <td>
            Key name
          </td>
        </tr>
      </tbody>
    </table>
    <h4 id="returns-1">
      Returns
    </h4>
    <pre>
{
    "returnValue" : boolean,
    "[no name]"   : object
}   
</pre>
    <table border="1" cellspacing="2" cellpadding="2">
      <thead>
        <tr>
          <th>
            Attribute
          </th>
          <th>
            Required
          </th>
          <th>
            Type
          </th>
          <th>
            Description
          </th>
        </tr>
      </thead>
      <tbody>
        <tr>
          <td>
            returnValue
          </td>
          <td>
            Yes
          </td>
          <td>
            boolean
          </td>
          <td>
            true (success) or false (failure)
          </td>
        </tr>
        <tr>
          <td>
            {no name}
          </td>
          <td>
            No
          </td>
          <td>
            object
          </td>
          <td>
            The key and the valid values.
          </td>
        </tr>
      </tbody>
    </table>
    <h4 id="examples-1">
      Examples
    </h4>
    <p>
      <strong>luna-send</strong>
    </p>
    <pre>
luna-send -n 1  luna://com.palm.systemservice/getPreferenceValues '{"key":"timeFormat"}'
{ "timeFormat": [ "HH12", "HH24" ], "returnValue": true }
</pre>
    <p>
      <strong>Enyo</strong>
    </p>
    <pre>
. . .

{
    name : "getPreferenceValuesCall",
    kind : "PalmService",
    service : "palm://com.palm.systemservice/",
    method : "getPreferenceValues",
    onSuccess : "getPrefValsSuccess",
    onFailure : "getPrefValsFailure",
    onResponse : "gotResponse",
    subscribe : true
},  

. . . 

getPrefValsSuccess : function(inSender, inResponse) {
    enyo.log("getPreferenceValues success, results=" + enyo.json.stringify(inResponse));
},
getPrefValsFailure : function(inSender, inResponse) {
    enyo.log("getPreferenceValues failure, results=" + enyo.json.stringify(inResponse));
},
getPrefVals : function(inSender, inResponse)
{
    this.$.getPreferenceValuesCall.call({"key":"timeFormat"});
}
</pre>
    <p>
      <strong>Mojo</strong>
    </p>
    <pre>
this.controller.serviceRequest('palm://com.palm.systemservice', {
    method:"getPreferenceValues",
    parameters:{"key":"timeFormat" },
    onSuccess : function (e){ Mojo.Log.info("getPreferenceValues success, results="+JSON.stringify(e)); },
    onFailure : function (e){ Mojo.Log.info("getPreferenceValues failure, results="+JSON.stringify(e)); }
});  
</pre>
    <p>
      <strong>Success</strong>
    </p>
    <pre>
getPreferenceValues success, results=
{
   "timeFormat":[
      "HH12",
      "HH24"
   ],
   "returnValue":true
}
</pre><a name="setPreferences" id="setPreferences"></a>
    <hr>
    <h3 id="setpreferences">
      setPreferences
    </h3>
    <p>
      Sets preference keys to specified values.
    </p>
    <h4 id="syntax-2">
      Syntax
    </h4>
    <pre>
{
    "params" : object
}
</pre>
    <h4 id="parameters-2">
      Parameters
    </h4>
    <table border="1" cellspacing="2" cellpadding="2">
      <thead>
        <tr>
          <th>
            Parameter
          </th>
          <th>
            Required
          </th>
          <th>
            Type
          </th>
          <th>
            Description
          </th>
        </tr>
      </thead>
      <tbody>
        <tr>
          <td>
            params
          </td>
          <td>
            Yes
          </td>
          <td>
            object
          </td>
          <td>
            An object containing one or more key-value pairs or other objects.
          </td>
        </tr>
      </tbody>
    </table>
    <h4 id="returns-2">
      Returns
    </h4>
    <pre>
{
    "returnValue" : boolean,
    "errorText"   : string
}   
</pre>
    <table border="1" cellspacing="2" cellpadding="2">
      <thead>
        <tr>
          <th>
            Attribute
          </th>
          <th>
            Required
          </th>
          <th>
            Type
          </th>
          <th>
            Description
          </th>
        </tr>
      </thead>
      <tbody>
        <tr>
          <td>
            returnValue
          </td>
          <td>
            Yes
          </td>
          <td>
            boolean
          </td>
          <td>
            true (success) or false (failure).
          </td>
        </tr>
        <tr>
          <td>
            errorText
          </td>
          <td>
            No
          </td>
          <td>
            string
          </td>
          <td>
            Error message returned on failure.
          </td>
        </tr>
      </tbody>
    </table>
    <h4 id="examples-2">
      Examples
    </h4>
    <p>
      <strong>luna-send</strong>
    </p>
    <pre>
luna-send -n 1  luna://com.palm.systemservice/setPreferences '{"food":"pizza"}'
{ "returnValue": true }
</pre>
    <p>
      <strong>Enyo</strong>
    </p>
    <pre>
. . .

{
   name : "setPreferencesCall",
   kind : "PalmService",
   service : "palm://com.palm.systemservice/",
   method : "setPreferences",
   onSuccess : "setPrefsSuccess",
   onFailure : "setPrefsFailure",
   onResponse : "gotResponse",
   subscribe : true
},

. . . 

setPrefsSuccess : function(inSender, inResponse) {
    enyo.log("setPreferences success, results=" + enyo.json.stringify(inResponse));
},
setPrefsFailure : function(inSender, inResponse) {
    enyo.log("setPreferences failure, results=" + enyo.json.stringify(inResponse));
},
setPrefs : function(inSender, inResponse)
{
    this.$.setPreferencesCall.call({"food":"pizza"});
}
</pre>
    <p>
      <strong>Mojo</strong>
    </p>
    <pre>
 this.controller.serviceRequest('palm://com.palm.systemservice', {
    method:"setPreferences",
    parameters:{"food":"pizza"},
    onSuccess : function (e){ Mojo.Log.info("setPreferences success, results="+JSON.stringify(e)); },
    onFailure : function (e){ Mojo.Log.info("setPreferences failure, results="+JSON.stringify(e)); }
});
</pre>
    <p>
      <strong>Success</strong>
    </p>
    <pre>
setPreferences success, results=
{
    "returnValue":true
}
</pre>
    <p>
      <strong>Failure</strong>
    </p>
    <pre>
setPreferences failure, results=
{
   "returnValue":false,
   "errorText":"Some settings could not be saved"
}
</pre><a name="time" id="time"></a>
    <hr>
    <h2 id="time-method">
      Time Method
    </h2>
    <h3 id="getsystemtime">
      getSystemTime
    </h3>
    <p>
      Requests the system time, and if the subscribe property is true, receives notifications when the time zone changes and/or the system time changes by a significant amount (currently 5 min.).
    </p>
    <p>
      For information about world time zones, see <a href="http://en.wikipedia.org/wiki/List_of_zoneinfo_time_zones">Wikipedia</a>.
    </p>
    <h4 id="syntax-3">
      Syntax
    </h4>
    <pre>
{
    "subscribe" : boolean
}
</pre>
    <h4 id="parameters-3">
      Parameters
    </h4>
    <table border="1" cellspacing="2" cellpadding="2">
      <thead>
        <tr>
          <th>
            Parameter
          </th>
          <th>
            Required
          </th>
          <th>
            Type
          </th>
          <th>
            Description
          </th>
        </tr>
      </thead>
      <tbody>
        <tr>
          <td>
            subscribe
          </td>
          <td>
            Yes
          </td>
          <td>
            boolean
          </td>
          <td>
            If true, receives notifications when the time zone changes and/or the system time changes by a system-defined threshold (currently 5 min.).
          </td>
        </tr>
      </tbody>
    </table>
    <h4 id="returns-3">
      Returns
    </h4>
    <pre>
{
   "utc" : int,
   "localtime" : {
      "year"   : int,
      "month"  : int,
      "day"    : int,
      "hour"   : int,
      "minute" : int,
      "second" : int
   },
   "offset"       : int,
   "timezone"     : string,
   "TZ"           : string,
   "timeZoneFile" : string,
   "NITZValid"    : boolean
}
</pre>
    <table border="1" cellspacing="2" cellpadding="2">
      <thead>
        <tr>
          <th>
            Attribute
          </th>
          <th>
            Type
          </th>
          <th>
            Description
          </th>
        </tr>
      </thead>
      <tbody>
        <tr>
          <td>
            utc
          </td>
          <td>
            int
          </td>
          <td>
            The number of milliseconds since Epoch (midnight of January 1, 1970 UTC), aka - Unix time.
          </td>
        </tr>
        <tr>
          <td>
            localtime
          </td>
          <td>
            object
          </td>
          <td>
            See fields below.
          </td>
        </tr>
        <tr>
          <td style="padding-left:30px">
            year
          </td>
          <td>
            int
          </td>
          <td>
            The year, i.e., 2009.
          </td>
        </tr>
        <tr>
          <td style="padding-left:30px">
            month
          </td>
          <td>
            int
          </td>
          <td>
            The month, 1-12.
          </td>
        </tr>
        <tr>
          <td style="padding-left:30px">
            day
          </td>
          <td>
            int
          </td>
          <td>
            The day, 1-21
          </td>
        </tr>
        <tr>
          <td style="padding-left:30px">
            hour
          </td>
          <td>
            int
          </td>
          <td>
            The minute, 0-23
          </td>
        </tr>
        <tr>
          <td style="padding-left:30px">
            minute
          </td>
          <td>
            int
          </td>
          <td>
            The minute, 0-59
          </td>
        </tr>
        <tr>
          <td style="padding-left:30px">
            second
          </td>
          <td>
            int
          </td>
          <td>
            The second, 0-59
          </td>
        </tr>
        <tr>
          <td>
            offset
          </td>
          <td>
            integer
          </td>
          <td>
            The number of minutes from UTC. This can be negative for time zones west of UTC and positive for time zones east of UTC.
          </td>
        </tr>
        <tr>
          <td>
            timezone
          </td>
          <td>
            string
          </td>
          <td>
            The current system time zone. It has the same format as the &quot; <em>TZ</em> &quot; environment variable. For information, see <a href="http://www.gnu.org/software/libc/manual/html_node/TZ-Variable.html" target="_blank">http://www.gnu.org/software/libc/manual/html_node/TZ-Variable.html</a> .
          </td>
        </tr>
        <tr>
          <td>
            TZ
          </td>
          <td>
            string
          </td>
          <td>
            The time zone abbreviation in standard Unix format that corresponds to the current time zone (e.g., PDT (Pacific Daylight Time)).
          </td>
        </tr>
        <tr>
          <td>
            timeZoneFile
          </td>
          <td>
            string
          </td>
          <td>
            Linux zone information file for the currently set zone. For more information, see: <a href="http://linux.die.net/man/5/tzfile">http://linux.die.net/man/5/tzfile</a>
          </td>
        </tr>
        <tr>
          <td>
            NITZValid
          </td>
          <td>
            boolean
          </td>
          <td>
            Deprecated. Formerly used to alert the UI whether or not it managed to set the time correctly using NITZ. Currently, it does not indicate anything meaningful
          </td>
        </tr>
      </tbody>
    </table>
    <h4 id="examples-3">
      Examples
    </h4>
    <p>
      <strong>luna-send</strong>
    </p>
    <pre>
luna-send -n 1  luna://com.palm.systemservice/time/getSystemTime '{}'   
{ "utc": 1306425645, "localtime": { "year": 2011, "month": 5, "day": 26, "hour": 9, "minute": 0, "second": 45 }, "offset": -420, "timezone": "America\/Los_Angeles", "TZ": "PDT", "timeZoneFile": "\/var\/luna\/preferences\/localtime", "NITZValid": true }

</pre>
    <p>
      <strong>Enyo</strong>
    </p>
    <pre>
. . .

{
    name : "getSystemTimeCall",
    kind : "PalmService",
    service : "palm://com.palm.systemservice/time/",
    method : "getSystemTime",
    onSuccess : "getSysTimeSuccess",
    onFailure : "getSysTimeFailure",
    onResponse : "gotResponse",
    subscribe : true
},  

. . . 

getSysTimeSuccess : function(inSender, inResponse) {
    enyo.log("getSystemTime success, results=" + enyo.json.stringify(inResponse));
},
getSysTimeFailure : function(inSender, inResponse) {
    enyo.log("getSystemTime failure, results=" + enyo.json.stringify(inResponse));
},
getSysTime : function(inSender, inResponse)
{
    this.$.getSystemTimeCall.call({"subscribe":true});
}  
</pre>
    <p>
      <strong>Mojo</strong>
    </p>
    <pre>
this.controller.serviceRequest('palm://com.palm.systemservice/time', {
    method:"getSystemTime",
    parameters:{"subscribe":true},
    onSuccess : function (e){ Mojo.Log.info("getSystemTime success, results="+JSON.stringify(e)); },
    onFailure : function (e){ Mojo.Log.info("getSystemTime failure, results="+JSON.stringify(e)); }
}); 
</pre>
    <p>
      <strong>Success</strong>
    </p>
    <pre>
getSystemTime success, results=
{
   "utc":1306425541,
   "localtime":{
      "year":2011,
      "month":5,
      "day":26,
      "hour":8,
      "minute":59,
      "second":1
   },
   "offset":-420,
   "timezone":"America/Los_Angeles",
   "TZ":"PDT",
   "timeZoneFile":"/var/luna/preferences/localtime",
   "NITZValid":true
}
</pre><a name="wallpaper" id="wallpaper"></a>
    <hr>
    <h2 id="wallpaper-methods">
      Wallpaper Methods
    </h2>
    <p>
      The Wallpaper API lets your application change (or detect) the wallpaper -- the image that appears on the screen behind the Launcher or Card view.
    </p>
    <p>
      <strong>To set the wallpaper on the device:</strong>
    </p>
    <ol style="list-style-type: decimal">
      <li>Use <code>importWallpaper</code> to convert an image to a wallpaper object.
      </li>
      <li>Pass the wallpaper object as the new value for the wallpaper key in <code>setPreferences</code>.
      </li>
    </ol>
    <p>
      <strong>Methods</strong>
    </p>
    <ul>
      <li>
        <a href="#delete">deleteWallpaper</a>
      </li>
      <li>
        <a href="#import">importWallpaper</a>
      </li>
      <li>
        <a href="#info">info</a>
      </li>
      <li>
        <a href="#refresh">refresh</a>
      </li>
    </ul><a name="delete" id="delete"></a>
    <hr>
    <h3 id="deletewallpaper">
      deleteWallpaper
    </h3>
    <p>
      Deletes the specified wallpaper from the list of available wallpapers on the device.
    </p>
    <p>
      <strong>Warning</strong>: Do not call deleteWallpaper on the currently active wallpaper!
    </p>
    <h4 id="syntax-4">
      Syntax
    </h4>
    <pre>
{
    "wallpaperName" : string
}
</pre>
    <h4 id="parameters-4">
      Parameters
    </h4>
    <table border="1" cellspacing="2" cellpadding="2">
      <thead>
        <tr>
          <th>
            Parameter
          </th>
          <th>
            Required
          </th>
          <th>
            Type
          </th>
          <th>
            Description
          </th>
        </tr>
      </thead>
      <tbody>
        <tr>
          <td>
            wallpaperName
          </td>
          <td>
            Yes
          </td>
          <td>
            string
          </td>
          <td>
            The wallpaperName attribute of the wallpaper object to delete.
          </td>
        </tr>
      </tbody>
    </table>
    <h4 id="returns-4">
      Returns
    </h4>
    <pre>
{
    "returnValue" : boolean,
    "wallpaper"  : {
        "wallpaperName" : string
    }   
}
</pre>
    <table border="1" cellspacing="2" cellpadding="2">
      <thead>
        <tr>
          <th>
            Attribute
          </th>
          <th>
            Required
          </th>
          <th>
            Type
          </th>
          <th>
            Description
          </th>
        </tr>
      </thead>
      <tbody>
        <tr>
          <td>
            returnValue
          </td>
          <td>
            Yes
          </td>
          <td>
            boolean
          </td>
          <td>
            true (success) or false (failure).
          </td>
        </tr>
        <tr>
          <td>
            wallpaper
          </td>
          <td>
            Yes
          </td>
          <td>
            object
          </td>
          <td>
            See field below.
          </td>
        </tr>
        <tr>
          <td style="padding-left:30px">
            wallpaperName
          </td>
          <td>
            No
          </td>
          <td>
            string
          </td>
          <td>
            Wallpaper file name passed.
          </td>
        </tr>
        <tr>
          <td>
            errorText
          </td>
          <td>
            No
          </td>
          <td>
            string
          </td>
          <td>
            Error message returned on failure.
          </td>
        </tr>
      </tbody>
    </table>
    <h4 id="examples-4">
      Examples
    </h4>
    <p>
      <strong>luna-send</strong>
    </p>
    <pre>
luna://com.palm.systemservice/wallpaper/deleteWallpaper '{"wallpaperName":"Mekong"}'
{ "returnValue": true, "wallpaper": { "wallpaperName": "Mekong" } }
</pre>
    <p>
      <strong>Enyo</strong>
    </p>
    <pre>
. . .

{
    name : "deleteCall",
    kind : "PalmService",
    service : "palm://com.palm.systemservice/wallpaper/",
    method : "deleteWallpaper",
    onSuccess : "deleteSuccess",
    onFailure : "deleteFailure",
    onResponse : "gotResponse",
    subscribe : true
 },     

. . . 

deleteSuccess : function(inSender, inResponse) {
    enyo.log("delete success, results=" + enyo.json.stringify(inResponse));
},
deleteFailure : function(inSender, inResponse) {
    enyo.log("delete failure, results=" + enyo.json.stringify(inResponse));
},
doDelete : function(inSender, inResponse)
{
    this.$.deleteCall.call({"wallpaperName":"Mekong"});
}  
</pre>
    <p>
      <strong>Mojo</strong>
    </p>
    <pre>
this.controller.serviceRequest('palm://com.palm.systemservice/wallpaper', {
    method:"deleteWallpaper",
    parameters:{"wallpaperName":"flowers"},
    onSuccess : function (e){ Mojo.Log.info("deleteWallpaper success, results="+JSON.stringify(e)); },
    onFailure : function (e){ Mojo.Log.info("deleteWallpaper failure, results="+JSON.stringify(e)); }
 });
</pre>
    <p>
      <strong>Success</strong>
    </p>
    <pre>
deleteWallpaper success, results=
{
   "returnValue":true,
   "wallpaper":{
      "wallpaperName":"flowers"
   }
}
</pre>
    <p>
      <strong>Failure</strong>
    </p>
    <pre>
deleteWallpaper failure, results=
{
   "returnValue":false,
   "errorText":"must specify wallpaperName"
}
</pre><a name="import" id="import"></a>
    <hr>
    <h3 id="importwallpaper">
      importWallpaper
    </h3>
    <p>
      Converts an image to a wallpaper for the device. The image is either re-centered and cropped, or scaled:
    </p>
    <ul>
      <li>
        <p>
          If no focus or scale parameters are passed, importWallpaper scales the entire image to 320 x 480 pixels.
        </p>
      </li>
      <li>
        <p>
          If focus parameters are passed but scale is not specified, the image is re-centered at the point specified by the focus parameters and cropped. Black is added anywhere the image does not reach the edge of the screen.
        </p>
      </li>
      <li>
        <p>
          If scale is passed but focus is not specified, then the image is scaled and then cropped.
        </p>
      </li>
      <li>
        <p>
          If focus and scale parameters are passed, the image is first scaled and then re-centered and cropped.
        </p>
      </li>
    </ul>
    <p>
      The focusX and focusY parameters are the coordinates of the new center of the image. The scale parameter determines the new size of the image.
    </p>
    <p>
      Once the image has been converted, the wallpaper is stored in the internal list of wallpapers on the device, and is available until deleted using <code>deleteWallpaper</code>.
    </p>
    <p>
      <strong>Note</strong>: The internal list of wallpapers is not the same as the Wallpapers folder that is visible to the user.
    </p>
    <h4 id="syntax-5">
      Syntax
    </h4>
    <pre>
{
    "target" : string,
    "focusX" : float,
    "focusY" : float,
    "scale"  : float
}
</pre>
    <h4 id="parameters-5">
      Parameters
    </h4>
    <table border="1" cellspacing="2" cellpadding="2">
      <thead>
        <tr>
          <th>
            Parameter
          </th>
          <th>
            Required
          </th>
          <th>
            Type
          </th>
          <th>
            Description
          </th>
        </tr>
      </thead>
      <tbody>
        <tr>
          <td>
            target
          </td>
          <td>
            Yes
          </td>
          <td>
            string
          </td>
          <td>
            The URL of the image file to be converted to a wallpaper (must be PNG or JPG). Only the file:// scheme is supported (no remote schemes are supported).
          </td>
        </tr>
        <tr>
          <td>
            focusX
          </td>
          <td>
            No
          </td>
          <td>
            float
          </td>
          <td>
            The horizontal coordinate of the new center of the image, from 0.0 (left edge) to 1.0 (right edge). A value of 0.5 preserves the current horizontal center of the image.
          </td>
        </tr>
        <tr>
          <td>
            focusY
          </td>
          <td>
            No
          </td>
          <td>
            float
          </td>
          <td>
            The vertical coordinate of the new center of the image, from 0.0 (top edge) to 1.0 (bottom edge). A value of 0.5 preserves the current vertical center of the image.
          </td>
        </tr>
        <tr>
          <td>
            scale
          </td>
          <td>
            No
          </td>
          <td>
            float
          </td>
          <td>
            The new scale of the image, from 0.1 to 10.0 times the current size.
          </td>
        </tr>
      </tbody>
    </table>
    <h4 id="returns-5">
      Returns
    </h4>
    <pre>
{
   "returnValue" : boolean,
   "wallpaper"   : {
      "wallpaperName"      : string,
      "wallpaperFile"      : string,
      "wallpaperThumbFile" : string
   }
   "errorText" : string   
}
</pre>
    <table border="1" cellspacing="2" cellpadding="2">
      <thead>
        <tr>
          <th>
            Attribute
          </th>
          <th>
            Required
          </th>
          <th>
            Type
          </th>
          <th>
            Description
          </th>
        </tr>
      </thead>
      <tbody>
        <tr>
          <td>
            returnValue
          </td>
          <td>
            Yes
          </td>
          <td>
            boolean
          </td>
          <td>
            (true) Indicates whether the call was successful.
          </td>
        </tr>
        <tr>
          <td>
            wallpaper
          </td>
          <td>
            No
          </td>
          <td>
            object
          </td>
          <td>
            A wallpaper object that can be passed to setPreferences to set the wallpaper key. See fields below.
          </td>
        </tr>
        <tr>
          <td style="padding-left:30px">
            wallpaperName
          </td>
          <td>
            No
          </td>
          <td>
            string
          </td>
          <td>
            Name of wallpaper file.
          </td>
        </tr>
        <tr>
          <td style="padding-left:30px">
            wallpaperFile
          </td>
          <td>
            No
          </td>
          <td>
            string
          </td>
          <td>
            Path to wallpaper file.
          </td>
        </tr>
        <tr>
          <td style="padding-left:30px">
            wallpaperThumbFile
          </td>
          <td>
            No
          </td>
          <td>
            string
          </td>
          <td>
            Path to wallpaper thumb file.
          </td>
        </tr>
        <tr>
          <td>
            errorText
          </td>
          <td>
            No
          </td>
          <td>
            string
          </td>
          <td>
            Error message returned on failure.
          </td>
        </tr>
      </tbody>
    </table>
    <h4 id="examples-5">
      Examples
    </h4>
    <p>
      <strong>luna-send</strong>
    </p>
    <pre>
 luna://com.palm.systemservice/wallpaper/importWallpaper '{"target":"/media/internal/downloads/Mekong.jpg"}'
{ "returnValue": true, "wallpaper": { "wallpaperName": "Mekong.jpg", "wallpaperFile": "\/media\/internal\/.wallpapers\/Mekong.jpg", "wallpaperThumbFile": "\/media\/internal\/.wallpapers\/thumbs\/Mekong.jpg" } }
</pre>
    <p>
      <strong>Enyo</strong>
    </p>
    <pre>
. . .

{
    name : "importCall",
    kind : "PalmService",
    service : "palm://com.palm.systemservice/wallpaper/",
    method : "importWallpaper",
    onSuccess : "importSuccess",
    onFailure : "importFailure",
    onResponse : "gotResponse",
    subscribe : true
},          

. . . 

importSuccess : function(inSender, inResponse) {
    enyo.log("import success, results=" + enyo.json.stringify(inResponse));
},
importFailure : function(inSender, inResponse) {
    enyo.log("import failure, results=" + enyo.json.stringify(inResponse));
},
doImport : function(inSender, inResponse)
{
    this.$.importCall.call({"target":"/media/internal/downloads/Mekong.jpg"});
}  
</pre>
    <p>
      <strong>Mojo</strong>
    </p>
    <pre>
 this.controller.serviceRequest('palm://com.palm.systemservice/wallpaper', {
    method:"importWallpaper",
    parameters:{ "target":"/media/internal/downloads/Mekong.jpg" },
    onSuccess : function (e){ Mojo.Log.info("importWallpaper success, results="+JSON.stringify(e)); },
    onFailure : function (e){ Mojo.Log.info("importWallpaper failure, results="+JSON.stringify(e)); }
});   
</pre>
    <p>
      <strong>Success</strong>
    </p>
    <pre>
importWallpaper success, results=
{
   "returnValue":true,
   "wallpaper":{
      "wallpaperName":"Mekong.jpg",
      "wallpaperFile":"/media/internal/.wallpapers/Mekong.jpg",
      "wallpaperThumbFile":"/media/internal/.wallpapers/thumbs/Mekong.jpg"
   }
}
</pre>
    <p>
      <strong>Failure</strong>
    </p>
    <pre>
importWallpaper failure, results=
{
   "returnValue":false,
   "errorText":""
}
</pre><a name="info" id="info"></a>
    <hr>
    <h3 id="info">
      info
    </h3>
    <p>
      Retrieves a wallpaper object using either the <code>wallpaperName</code> or <code>wallpaperFile</code> parameter.
    </p>
    <h4 id="syntax-6">
      Syntax
    </h4>
    <pre>
{
    "wallpaperName" : string,
    "wallpaperFile" : string
}   
</pre>
    <h4 id="parameters-6">
      Parameters
    </h4>
    <table border="1" cellspacing="2" cellpadding="2">
      <thead>
        <tr>
          <th>
            Parameter
          </th>
          <th>
            Required
          </th>
          <th>
            Type
          </th>
          <th>
            Description
          </th>
        </tr>
      </thead>
      <tbody>
        <tr>
          <td>
            wallpaperName
          </td>
          <td>
            No
          </td>
          <td>
            string
          </td>
          <td>
            Wallpaper name. Either this, or &quot;wallpaperFile&quot; is required.
          </td>
        </tr>
        <tr>
          <td>
            wallpaperFile
          </td>
          <td>
            No
          </td>
          <td>
            string
          </td>
          <td>
            Wallpaper's full path and file name. Either this, or &quot;wallpaperName&quot; is required.
          </td>
        </tr>
      </tbody>
    </table>
    <h4 id="returns-6">
      Returns
    </h4>
    <pre>
{
   "returnValue" : boolean,
   "wallpaper"   : {
      "wallpaperName"      : string,
      "wallpaperFile"      : string,
      "wallpaperThumbFile" : string
   }
   "errorText" : string   
}
</pre>
    <table border="1" cellspacing="2" cellpadding="2">
      <thead>
        <tr>
          <th>
            Attribute
          </th>
          <th>
            Required
          </th>
          <th>
            Type
          </th>
          <th>
            Description
          </th>
        </tr>
      </thead>
      <tbody>
        <tr>
          <td>
            returnValue
          </td>
          <td>
            Yes
          </td>
          <td>
            boolean
          </td>
          <td>
            (true) Indicates whether the call was successful.
          </td>
        </tr>
        <tr>
          <td>
            wallpaper
          </td>
          <td>
            No
          </td>
          <td>
            object
          </td>
          <td>
            A wallpaper object that can be passed to setPreferences to set the wallpaper key. See fields below
          </td>
        </tr>
        <tr>
          <td style="padding-left:30px">
            wallpaperName
          </td>
          <td>
            No
          </td>
          <td>
            string
          </td>
          <td>
            Name of wallpaper file.
          </td>
        </tr>
        <tr>
          <td style="padding-left:30px">
            wallpaperFile
          </td>
          <td>
            No
          </td>
          <td>
            string
          </td>
          <td>
            Path to wallpaper file.
          </td>
        </tr>
        <tr>
          <td style="padding-left:30px">
            wallpaperThumbFile
          </td>
          <td>
            No
          </td>
          <td>
            string
          </td>
          <td>
            Path to wallpaper thumb file.
          </td>
        </tr>
        <tr>
          <td>
            errorText
          </td>
          <td>
            No
          </td>
          <td>
            string
          </td>
          <td>
            Error message returned on failure.
          </td>
        </tr>
      </tbody>
    </table>
    <h4 id="examples-6">
      Examples
    </h4>
    <p>
      <strong>luna-send</strong>
    </p>
    <pre>
luna-send -n 1  luna://com.palm.systemservice/wallpaper/info '{"wallpaperFile":"/media/internal/wallpapers/Mekong.jpg"}'
{ "returnValue": true, "wallpaper": { "wallpaperName": "Mekong.jpg", "wallpaperFile": "\/media\/internal\/.wallpapers\/Mekong.jpg", "wallpaperThumbFile": "\/media\/internal\/.wallpapers\/thumbs\/Mekong.jpg" } }
</pre>
    <p>
      <strong>Enyo</strong>
    </p>
    <pre>
. . .

{
    name : "infoCall",
    kind : "PalmService",
    service : "palm://com.palm.systemservice/wallpaper/",
    method : "info",
    onSuccess : "infoSuccess",
    onFailure : "infoFailure",
    onResponse : "gotResponse",
    subscribe : true
},      

. . . 

infoSuccess : function(inSender, inResponse) {
    enyo.log("info success, results=" + enyo.json.stringify(inResponse));
},
infoFailure : function(inSender, inResponse) {
    enyo.log("info failure, results=" + enyo.json.stringify(inResponse));
},
getInfo : function(inSender, inResponse)
{
    this.$.infoCall.call({"target":"/media/internal/downloads/Mekong.jpg"});
}  
</pre>
    <p>
      <strong>Mojo</strong>
    </p>
    <pre>
this.controller.serviceRequest('palm://com.palm.systemservice/wallpaper', {
    method:"info",
    parameters:{"wallpaperFile":"/media/internal/wallpapers/Mekong.jpg"},
    onSuccess : function (e){ Mojo.Log.info("info success, results="+JSON.stringify(e)); },
    onFailure : function (e){ Mojo.Log.info("info failure, results="+JSON.stringify(e)); }
})
</pre>
    <p>
      <strong>Success</strong>
    </p>
    <pre>
info success, results=
{
   "returnValue":true,
   "wallpaper":{
      "wallpaperName":"Mekong.jpg",
      "wallpaperFile":"/media/internal/.wallpapers/Mekong.jpg",
      "wallpaperThumbFile":"/media/internal/.wallpapers/thumbs/Mekong.jpg"
   }
}
</pre>
    <p>
      <strong>Failure</strong>
    </p>
    <pre>
info failure, results=
{ 
    "returnValue": false, 
    "errorText": "invalid wallpaper file specified (perhaps it doesn't exist in the wallpaper dir; was it imported?"
}
</pre><a name="refresh" id="refresh"></a>
    <hr>
    <h3 id="refresh">
      refresh
    </h3>
    <p>
      Refreshes the internal list of available wallpapers. Under normal circumstances, there is no need to call refresh directly.
    </p>
    <h4 id="parameters-7">
      Parameters
    </h4>
    <p>
      None.
    </p>
    <h4 id="returns-7">
      Returns
    </h4>
    <pre>
{
    returnValue : boolean
}
</pre>
    <table border="1" cellspacing="2" cellpadding="2">
      <thead>
        <tr>
          <th>
            Attribute
          </th>
          <th>
            Type
          </th>
          <th>
            Description
          </th>
        </tr>
      </thead>
      <tbody>
        <tr>
          <td>
            returnValue
          </td>
          <td>
            boolean
          </td>
          <td>
            true (success) or false (failure).
          </td>
        </tr>
      </tbody>
    </table>
    <hr>
    <h2 id="sample-code">
      Sample Code
    </h2>
    <p>
      See Services Sample.
    </p>
		</div>
	</body>
</html>