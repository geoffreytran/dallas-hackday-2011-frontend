<!DOCTYPE html>
<html>
	<head>
		<title>$if(pagetitle)$$pagetitle$$endif$</title>
		<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
		<link rel="stylesheet" href="_css/chrome.css" />
		<link rel="stylesheet" href="../_css/chrome.css" />
		<link rel="stylesheet" href="../../_css/chrome.css" />
		<link rel="stylesheet" href="../../../_css/chrome.css" />
		<script src="_js/jquery-1.4.2.min.js" type="text/javascript"></script>
		<script src="../_js/jquery-1.4.2.min.js" type="text/javascript"></script>
		<script src="../../_js/jquery-1.4.2.min.js" type="text/javascript"></script>
		<script src="../../../_js/jquery-1.4.2.min.js" type="text/javascript"></script>
		<script src="_js/doc.js" type="text/javascript"></script>
		<script src="../_js/doc.js" type="text/javascript"></script>
		<script src="../../_js/doc.js" type="text/javascript"></script>
		<script src="../../../_js/doc.js" type="text/javascript"></script>
	</head>
	<body>
		<div id="content">
    
    <h1 id="mojo.controller.stagecontroller">
      Mojo.Controller.StageController
    </h1>
    <h2 id="class-detail">
      Class Detail
    </h2>
    <p>
      This class provides methods to manipulate scenes on the stage. A stage is an HTML structure very similar to a standard browser window. A single application may have multiple stages and a single stage may contain multiple scenes.
    </p>
    <p>
      This class is a constructor which gets instantiated for you, and is typically accessed using <code>this.controller</code>.
    </p>
    <h2 id="method-summary">
      Method Summary
    </h2>
    <ul>
      <li>Mojo.Controller.StageController.<strong>activate()</strong>
      </li>
      <li>Mojo.Controller.StageController.<strong>activeScene()</strong>
      </li>
      <li>Mojo.Controller.StageController.<strong>deactivate()</strong>
      </li>
      <li>Mojo.Controller.StageController.<strong>delegateToSceneAssistant(functionName)</strong>
      </li>
      <li>Mojo.Controller.StageController.<strong>getAppController()</strong>
      </li>
      <li>Mojo.Controller.StageController.<strong>getScenes()</strong>
      </li>
      <li>Mojo.Controller.StageController.<strong>getWindowOrientation(orientation)</strong>
      </li>
      <li>Mojo.Controller.StageController.<strong>hasNewContent()</strong>
      </li>
      <li>Mojo.Controller.StageController.<strong>indicateNewContent(hasNew)</strong>
      </li>
      <li>Mojo.Controller.StageController.<strong>isActiveAndHasScenes()</strong>
      </li>
      <li>Mojo.Controller.StageController.<strong>isChildWindow()</strong>
      </li>
      <li>Mojo.Controller.StageController.<strong>loadStylesheet(path)</strong>
      </li>
      <li>Mojo.Controller.StageController.<strong>parentSceneAssistant(targetSceneAssistant)</strong>
      </li>
      <li>Mojo.Controller.StageController.<strong>popScene(returnValue, options)</strong>
      </li>
      <li>Mojo.Controller.StageController.<strong>popScenesTo(targetScene, options)</strong>
      </li>
      <li>Mojo.Controller.StageController.<strong>pushAppSupportInfoScene()</strong>
      </li>
      <li>Mojo.Controller.StageController.<strong>pushCommander(cmdr)</strong>
      </li>
      <li>Mojo.Controller.StageController.<strong>pushScene(sceneArguments)</strong>
      </li>
      <li>Mojo.Controller.StageController.<strong>removeCommander(cmdr)</strong>
      </li>
      <li>Mojo.Controller.StageController.<strong>sendEventToCommanders(event)</strong>
      </li>
      <li>Mojo.Controller.StageController.<strong>setClipboard(escapeHTML:, escapeHTML)</strong>
      </li>
      <li>Mojo.Controller.StageController.<strong>setWindowOrientation(orientation)</strong>
      </li>
      <li>Mojo.Controller.StageController.<strong>setWindowProperties(props)</strong>
      </li>
      <li>Mojo.Controller.StageController.<strong>swapScene(sceneArguments)</strong>
      </li>
      <li>Mojo.Controller.StageController.<strong>topScene()</strong>
      </li>
      <li>Mojo.Controller.StageController.<strong>unloadStylesheet(path)</strong>
      </li>
    </ul>
    <hr>
    <h2 id="method-detail">
      Method Detail
    </h2>
    <h3 id="mojo.controller.stagecontroller.activate">
      Mojo.Controller.StageController.<strong>activate</strong>()
    </h3>
    <p>
      Programatically activates this stage. Causes card windows to be maximized.
    </p>
    <hr>
    <h3 id="mojo.controller.stagecontroller.activescene">
      Mojo.Controller.StageController.<strong>activeScene</strong>()
    </h3>
    <p>
      Returns the SceneController object for the currently active scene from this stage, if any. If no scenes are active, returns undefined.
    </p>
    <hr>
    <h3 id="mojo.controller.stagecontroller.deactivate">
      Mojo.Controller.StageController.<strong>deactivate</strong>()
    </h3>
    <p>
      Programatically deactivates this stage. Causes card windows to be minimized.
    </p>
    <hr>
    <h3 id="mojo.controller.stagecontroller.delegatetosceneassistantfunctionname">
      Mojo.Controller.StageController.<strong>delegateToSceneAssistant</strong>(functionName)
    </h3>
    <p>
      Use to call a method on the assistant of the current scene of this stage. The first parameter is the name of the property that contains the function to call. The remaining parameters are passed to that function. The <code>this</code> keyword is bound to the scene assistant for this call.
    </p>
    <h4 id="parameters">
      Parameters
    </h4>
    <ul>
      <li>{Object} <strong>functionName</strong> - name of property to use to get the function to call.
      </li>
    </ul>
    <hr>
    <h3 id="mojo.controller.stagecontroller.getappcontroller">
      Mojo.Controller.StageController.<strong>getAppController</strong>()
    </h3>
    <p>
      Returns the current application controller.
    </p>
    <hr>
    <h3 id="mojo.controller.stagecontroller.getscenes">
      Mojo.Controller.StageController.<strong>getScenes</strong>()
    </h3>
    <p>
      Returns an array of scene controllers currently on the stack. result[0] is the bottom scene on the stack.
    </p>
    <hr>
    <h3 id="mojo.controller.stagecontroller.getwindoworientationorientation">
      Mojo.Controller.StageController.<strong>getWindowOrientation</strong>(orientation)
    </h3>
    <p>
      Gets the orientation of the stage's window.
    </p>
    <h4 id="parameters-1">
      Parameters
    </h4>
    <ul>
      <li>{String} <strong>orientation</strong> - One of 'up', 'down', 'left' or 'right'
      </li>
    </ul>
    <hr>
    <h3 id="boolean-mojo.controller.stagecontroller.hasnewcontent">
      {Boolean} Mojo.Controller.StageController.<strong>hasNewContent</strong>()
    </h3>
    <p>
      Returns true if the current stage has new content for the indicator, and false otherwise.
    </p>
    <hr>
    <h3 id="mojo.controller.stagecontroller.indicatenewcontenthasnew">
      Mojo.Controller.StageController.<strong>indicateNewContent</strong>(hasNew)
    </h3>
    <p>
      Makes the core navi button pulsate if true. This is mainly intended to alert the user to dashboard events that desire user attention.
    </p>
    <h4 id="parameters-2">
      Parameters
    </h4>
    <ul>
      <li>
        <strong>hasNew</strong>
      </li>
    </ul>
    <hr>
    <h3 id="mojo.controller.stagecontroller.isactiveandhasscenes">
      Mojo.Controller.StageController.<strong>isActiveAndHasScenes</strong>()
    </h3>
    <p>
      Returns true if the stage is both active and has currently pushed.
    </p>
    <hr>
    <h3 id="boolean-mojo.controller.stagecontroller.ischildwindow">
      {Boolean} Mojo.Controller.StageController.<strong>isChildWindow</strong>()
    </h3>
    <p>
      Utility function to find out if the current window is a child window. Returns true for child windows.
    </p>
    <hr>
    <h3 id="mojo.controller.stagecontroller.loadstylesheetpath">
      Mojo.Controller.StageController.<strong>loadStylesheet</strong>(path)
    </h3>
    <p>
      Loads a stylesheet -- and any versions of it for the current locale -- into the stage's document.
    </p>
    <h4 id="parameters-3">
      Parameters
    </h4>
    <ul>
      <li>{String} <strong>path</strong> - A path relative to the application's root directory, specifying the stylesheet to load.
      </li>
    </ul>
    <hr>
    <h3 id="mojo.controller.stagecontroller.parentsceneassistanttargetsceneassistant">
      Mojo.Controller.StageController.<strong>parentSceneAssistant</strong>(targetSceneAssistant)
    </h3>
    <p>
      Returns the scene assistant of the scene above this scene in the scene stack, or undefined if there is no such scene.
    </p>
    <h4 id="parameters-4">
      Parameters
    </h4>
    <ul>
      <li>
        <strong>targetSceneAssistant</strong>
      </li>
    </ul>
    <hr>
    <h3 id="mojo.controller.stagecontroller.popscenereturnvalue-options">
      Mojo.Controller.StageController.<strong>popScene</strong>(returnValue, options)
    </h3>
    <p>
      Removes a scene from the scene stack, passing the return value to the newly revealed scene's activate method. Note that this is an asynchronous operation.
    </p>
    <h4 id="parameters-5">
      Parameters
    </h4>
    <ul>
      <li>{Object} <strong>returnValue</strong> - Value passed to the next scene active method
      </li>
      <li>{Object} <strong>options</strong> - Optional object that can specify: { transition: @see <a href="mojo-transition.html">Mojo.Transition</a> }
      </li>
    </ul>
    <hr>
    <h3 id="mojo.controller.stagecontroller.popscenestotargetscene-options">
      Mojo.Controller.StageController.<strong>popScenesTo</strong>(targetScene, options)
    </h3>
    <p>
      Removes scenes from the scene stack until the target scene is reached, or there are no scenes remaining on the stack. targetScene may be either the SceneController for the desired scene, the scene DOM ID, or the scene name. If targetScene is undefined, all scenes will be popped. Intermediate popped scenes are <em>not</em> reactivated, nor is there any visual transition to signify their removal from the stack. Note that this is an asynchronous operation.
    </p>
    <p>
      To avoid showing a transition to the scene if you're already on top, you can use this check:
    </p>
    <blockquote>
      <pre>
<code>if (myScene.stageController.topScene() !== myScene.controller) {
  myScene.controller.stageController.popScenesTo(myScene.controller);
}
</code>
</pre>
    </blockquote>
    <h4 id="parameters-6">
      Parameters
    </h4>
    <ul>
      <li>{Object} <strong>targetScene</strong>
      </li>
      <li>{Object} <strong>options</strong> - See popScene().
      </li>
    </ul>
    <hr>
    <h3 id="mojo.controller.stagecontroller.pushappsupportinfoscene">
      Mojo.Controller.StageController.<strong>pushAppSupportInfoScene</strong>()
    </h3>
    <h4 id="overview">
      Overview
    </h4>
    <p>
      This method pushes a scene containing application support information, populated with data gathered from the application's appinfo.json file. It uses the following basic properties from Mojo.appInfo:
    </p>
    <ul>
      <li>&quot;version&quot;: version number of the application
      </li>
      <li>&quot;vendor&quot;: the author of the application
      </li>
      <li>&quot;vendorurl&quot;: the URL of the application author
      </li>
      <li>&quot;title&quot;: the name of the application as it appears in the Launcher
      </li>
      <li>&quot;smallicon&quot;: a 32-pixel-square version of the application's icon
      </li>
      <li>&quot;copyright&quot;: the application's copyright statement
      </li>
    </ul>
    <p>
      Additionally, this method uses a &quot;support&quot; property, which is an object containing at least one of the three following properties:
    </p>
    <ul>
      <li>&quot;url&quot;: the URL specifically meant for obtaining support for the application
      </li>
      <li>&quot;email&quot;: an object containing information for obtaining email-based support for the application. It must have an &quot;address&quot; property, and optionally a &quot;subject&quot; property:
        <ul>
          <li>&quot;address&quot;: address for obtaining email-based support
          </li>
          <li>&quot;subject&quot;: an optional subject line for support emails
          </li>
        </ul>
      </li>
      <li>&quot;phone&quot;: a phone number for obtaining support
      </li>
    </ul>
    <p>
      The &quot;support&quot; object can, optionally, contain a &quot;resources&quot; property; an array of objects with the following properties:
    </p>
    <ul>
      <li>&quot;type&quot;: &quot;web&quot; or &quot;scene&quot;, specifying a support resource that is web-based or an application scene, respectively
      </li>
      <li>&quot;label&quot;: the text to display in the support scene for this resource
      </li>
      <li>&quot;url&quot;: for &quot;web&quot; type resources only; the URL of the resource web page
      </li>
      <li>&quot;sceneName&quot;: for &quot;scene&quot; type resources only; the name of the scene to launch for the resource
      </li>
    </ul>
    <p>
      Here is an example appinfo.json:
    </p>
    <blockquote>
      <pre>
<code>{
  &quot;id&quot;: &quot;com.mycompany.myapp&quot;,
  &quot;version&quot;: &quot;1.0.0&quot;,
  &quot;vendor&quot;: &quot;My Company&quot;,
  &quot;vendorurl&quot;: &quot;http://www.mycompany.com&quot;,
  &quot;type&quot;: &quot;web&quot;,
  &quot;main&quot;: &quot;index.html&quot;,
  &quot;title&quot;: &quot;My App&quot;,
  &quot;icon&quot;: &quot;icon.png&quot;,
  &quot;smallicon&quot;: &quot;icon32x32.png&quot;,
  &quot;copyright&quot;: &quot;© Copyright 2009 My Company, Inc.&quot;,
  &quot;support&quot;: {
      &quot;url&quot;: &quot;http://support.mycompany.com&quot;,
      &quot;email&quot;: {
          &quot;address&quot;: &quot;support@mycompany.com&quot;,
          &quot;subject&quot;: &quot;Support&quot;
      },
      &quot;phone&quot;: &quot;555-555-5555&quot;,
      &quot;resources&quot;: [
          {
              &quot;type&quot;: &quot;scene&quot;,
              &quot;label&quot;: &quot;Help Topics&quot;,
              &quot;sceneName&quot;: &quot;topics&quot;
          },
          {
              &quot;type&quot;: &quot;web&quot;,
              &quot;label&quot;: &quot;Discussion Forums&quot;,
              &quot;url&quot;: &quot;http://forums.mycompany.com/&quot;
          }
      ]
  }
} 
</code>
</pre>
    </blockquote>
    <h4 id="function-call">
      Function Call
    </h4>
    <blockquote>
      <pre>
<code>this.controller.StageController.pushAppSupportInfoScene(); 
</code>
</pre>
    </blockquote>
    <hr>
    <h3 id="mojo.controller.stagecontroller.pushcommandercmdr">
      Mojo.Controller.StageController.<strong>pushCommander</strong>(cmdr)
    </h3>
    <p>
      Adds the given commander to the top of this StageController's stack. The commanders in this stack are only used when this scene is the current scene.
    </p>
    <h4 id="parameters-7">
      Parameters
    </h4>
    <ul>
      <li>{Object} <strong>cmdr</strong>
      </li>
    </ul>
    <hr>
    <h3 id="mojo.controller.stagecontroller.pushscenescenearguments">
      Mojo.Controller.StageController.<strong>pushScene</strong>(sceneArguments)
    </h3>
    <p>
      Push a new scene; the Scene Lifecycle initial setup includes this function. Note that this is an asynchronous operation. An app calls StageController.pushScene('myScene'):
    </p>
    <ol style="list-style-type: decimal">
      <li>A div is created with the view HTML for the new scene, and inserted into the <code>&lt;body&gt;</code>.
      </li>
      <li>A SceneController for 'myScene' is instantiated.
      </li>
      <li>A scene assistant for 'myScene' is instantiated, if available.
      </li>
      <li>The new scene is placed on the stage's scene stack then the Scene Controller and assistant's setup() methods are called and Widgets (divs that specify <code>x-mojo-element</code>) are created, rendered, and added to the DOM.
      </li>
    </ol>
    <p>
      At this point, scene should now be ready for initial display, even if the app is waiting for a service request to complete to provide dynamic data to fill out the scene.
    </p>
    <ol style="list-style-type: decimal">
      <li>The StageController transitions the scene onto the stage.
      </li>
      <li>When the transition is complete, the scene controller and assistant's activate method is called, and the scene is ready for action.
      </li>
    </ol>
    <h4 id="parameters-8">
      Parameters
    </h4>
    <ul>
      <li>{String|Object} <strong>sceneArguments</strong> - either the name of the scene to push, or an object with these properties: { name, assistantConstructor, sceneTemplate, [id] } Note that all additional arguments are passed to the constructor of the next scene's assistant.
      </li>
    </ul>
    <hr>
    <h3 id="mojo.controller.stagecontroller.removecommandercmdr">
      Mojo.Controller.StageController.<strong>removeCommander</strong>(cmdr)
    </h3>
    <p>
      Removes a commander from the commander stack.
    </p>
    <h4 id="parameters-9">
      Parameters
    </h4>
    <ul>
      <li>{Object} <strong>cmdr</strong> - commander to remove.
      </li>
    </ul>
    <hr>
    <h3 id="mojo.controller.stagecontroller.sendeventtocommandersevent">
      Mojo.Controller.StageController.<strong>sendEventToCommanders</strong>(event)
    </h3>
    <p>
      Sends the given event through the entire command chain, starting with the CommanderStack in the current scene, and progressing to the StageController's stack if the current scene does not call event.stopPropagation().
    </p>
    <h4 id="parameters-10">
      Parameters
    </h4>
    <ul>
      <li>{Object} <strong>event</strong>
      </li>
    </ul>
    <hr>
    <h3 id="mojo.controller.stagecontroller.setclipboardescapehtml-escapehtml">
      Mojo.Controller.StageController.<strong>setClipboard</strong>(escapeHTML:, escapeHTML)
    </h3>
    <p>
      This allows the client application to send text to the clipboard to be pasted elsewhere later.
    </p>
    <h4 id="parameters-11">
      Parameters
    </h4>
    <ul>
      <li>{Boolean} <strong>escapeHTML:</strong> - ignored in initial setClipboard api; later will allow pasting of rich text
      </li>
      <li>
        <strong>escapeHTML</strong>
      </li>
    </ul>
    <hr>
    <h3 id="mojo.controller.stagecontroller.setwindoworientationorientation">
      Mojo.Controller.StageController.<strong>setWindowOrientation</strong>(orientation)
    </h3>
    <p>
      Sets the orientation of the stage's window.
    </p>
    <h4 id="parameters-12">
      Parameters
    </h4>
    <ul>
      <li>{String} <strong>orientation</strong> - One of 'up', 'down', 'left', 'right', or 'free'
      </li>
    </ul>
    <hr>
    <h3 id="mojo.controller.stagecontroller.setwindowpropertiesprops">
      Mojo.Controller.StageController.<strong>setWindowProperties</strong>(props)
    </h3>
    <p>
      Changes properties of the window.
    </p>
    <h4 id="parameters-13">
      Parameters
    </h4>
    <ul>
      <li>
        <p>
          {Object} <strong>props</strong> - A map representing the properties to change. Keys are the property names, and values are the new values. Possible values include:
        </p>
        <ul>
          <li>
            <p>
              blockScreenTimeout - Boolean. If true, the screen will not dim or turn off in the absence of user activity. If false, the timeout behavior will be reinstated.
            </p>
          </li>
          <li>
            <p>
              setSubtleLightbar - Boolean. If true, the light bar will be made somewhat dimmer than normal. If false, it will return to normal.
            </p>
          </li>
          <li>
            <p>
              fastAccelerometer - Boolean. If true, the accelerometer rate will increase to 30mhz; false by default, rate is at 4hz. Note that fast rate is active only for apps when maximized.
            </p>
          </li>
        </ul>
      </li>
    </ul>
    <hr>
    <h3 id="mojo.controller.stagecontroller.swapscenescenearguments">
      Mojo.Controller.StageController.<strong>swapScene</strong>(sceneArguments)
    </h3>
    <p>
      Pops the current scene and simultaneously pushed a new scene without activating &amp; deactivating any underlying scenes. Note that this is an asynchronous operation.
    </p>
    <h4 id="parameters-14">
      Parameters
    </h4>
    <ul>
      <li>{String|Object} <strong>sceneArguments</strong> - either the name of the scene to push, or an object with properties including the name of the scene and the id to use as a DOM id.
      </li>
    </ul>
    <hr>
    <h3 id="mojo.controller.stagecontroller.topscene">
      Mojo.Controller.StageController.<strong>topScene</strong>()
    </h3>
    <p>
      Returns the topmost scene from this stage.
    </p>
    <hr>
    <h3 id="mojo.controller.stagecontroller.unloadstylesheetpath">
      Mojo.Controller.StageController.<strong>unloadStylesheet</strong>(path)
    </h3>
    <p>
      Unloads a stylesheet -- and any versions of it for the current locale -- from the stage's document.
    </p>
    <h4 id="parameters-15">
      Parameters
    </h4>
    <ul>
      <li>{String} <strong>path</strong> - A path relative to the application's root directory, specifying the stylesheet to unload.
      </li>
    </ul>
		</div>
	</body>
</html>