<!DOCTYPE html>
<html>
	<head>
		<title>$if(pagetitle)$$pagetitle$$endif$</title>
		<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
		<link rel="stylesheet" href="_css/chrome.css" />
		<link rel="stylesheet" href="../_css/chrome.css" />
		<link rel="stylesheet" href="../../_css/chrome.css" />
		<link rel="stylesheet" href="../../../_css/chrome.css" />
		<script src="_js/jquery-1.4.2.min.js" type="text/javascript"></script>
		<script src="../_js/jquery-1.4.2.min.js" type="text/javascript"></script>
		<script src="../../_js/jquery-1.4.2.min.js" type="text/javascript"></script>
		<script src="../../../_js/jquery-1.4.2.min.js" type="text/javascript"></script>
		<script src="_js/doc.js" type="text/javascript"></script>
		<script src="../_js/doc.js" type="text/javascript"></script>
		<script src="../../_js/doc.js" type="text/javascript"></script>
		<script src="../../../_js/doc.js" type="text/javascript"></script>
	</head>
	<body>
		<div id="content">
    
    <h1 id="messaging">
      Messaging
    </h1>
    <p>
      You can use the <a href="/reference/services/application-manager.html">Application Manager's</a> <code>launch</code> method to bring up the Messaging application into compose/chat view.
    </p>
    <p>
      The Application Manager's <code>launch</code> method takes an <code>id</code> parameter and a <code>params</code> object:
    </p>
    <h2 id="syntax">
      Syntax
    </h2>
    <pre>
{
    "id"     : string,
    "params" : {
        "attachment" : string,
        "composeRecipients" : 
         [{
            "address"     : string,
            "serviceName" : string
         }],
        "contactPointId"  : string,
        "messageText"     : string,
        "personId"        : string
}                                                       
</pre>
    <h2 id="parameters">
      Parameters
    </h2>
    <table border="1">
      <thead>
        <tr>
          <th>
            Parameter
          </th>
          <th>
            Required
          </th>
          <th>
            Type
          </th>
          <th>
            Description
          </th>
        </tr>
      </thead>
      <tbody>
        <tr>
          <td>
            id
          </td>
          <td>
            Yes
          </td>
          <td>
            string
          </td>
          <td>
            Set to &quot;com.palm.app.messaging&quot;.
          </td>
        </tr>
        <tr>
          <td>
            attachment
          </td>
          <td>
            No
          </td>
          <td>
            string
          </td>
          <td>
            Path to JPEG file.
          </td>
        </tr>
        <tr>
          <td>
            composeRecipients
          </td>
          <td>
            No
          </td>
          <td>
            object array
          </td>
          <td>
            An alternative to using <code>personID</code> or <code>contactPointId</code>.
          </td>
        </tr>
        <tr>
          <td style="padding-left:30px">
            address
          </td>
          <td>
            No
          </td>
          <td>
            string
          </td>
          <td>
            Specifies either the target phone number or the target IM address.
          </td>
        </tr>
        <tr>
          <td style="padding-left:30px">
            serviceName
          </td>
          <td>
            No
          </td>
          <td>
            string
          </td>
          <td>
            Specifies the IM addressee's service. Valid values are &quot;yahoo&quot;, &quot;gmail&quot;, and &quot;aol&quot;.
          </td>
        </tr>
        <tr>
          <td>
            contactPointId
          </td>
          <td>
            No
          </td>
          <td>
            string
          </td>
          <td>
            Contact entry ID for the contact method (e.g., mobile phone number, IM address). This applies only to the launched chat view.<br>
            <strong>Note:</strong> You can optionally pass a <code>contactPointId</code> to set the selected transport when you launch the chat.
          </td>
        </tr>
        <tr>
          <td>
            messageText
          </td>
          <td>
            No
          </td>
          <td>
            string
          </td>
          <td>
            Message contents.
          </td>
        </tr>
        <tr>
          <td>
            personId
          </td>
          <td>
            No
          </td>
          <td>
            string
          </td>
          <td>
            Contact ID for the recipient. This applies only to the launched chat view.
          </td>
        </tr>
      </tbody>
    </table>
    <h2 id="examples">
      Examples
    </h2>
    <p>
      <strong>luna-send</strong>
    </p>
    <pre>
luna-send -n 1  luna://com.palm.applicationManager/launch '{"id":"com.palm.app.messaging"}'
{ "returnValue": true, "processId": "success" }
</pre>
    <p>
      <strong>Mojo</strong>
    </p>
    <p>
      In this example, the messaging service is called to launch the messaging application. The &quot;To:&quot; field is pre-filled with a Yahoo IM address for &quot;Joe&quot;, and a phone number for a second recipient. The message text field is prefilled with &quot;Text of the message&quot;.
    </p>
    <pre>
  this.controller.serviceRequest('palm://com.palm.applicationManager', {
    method: 'launch',
    parameters: {
        id: 'com.palm.app.messaging',
        params: {
                composeRecipients: [
                    {
                        address: "joe",
                        serviceName: "yahoo"
                    },
                    {
                        address: "4085555555"
                    }
                ],
                messageText: 'Text of the message'
            }
        },
    onSuccess: this.handleOKResponse,
    onFailure: this.handleErrResponse
});
</pre>
    <p>
      <strong>Sample Code</strong>
    </p>
    <p>
      See Services Sample.
    </p>
		</div>
	</body>
</html>