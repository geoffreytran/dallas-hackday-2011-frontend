<!DOCTYPE html>
<html>
	<head>
		<title>$if(pagetitle)$$pagetitle$$endif$</title>
		<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
		<link rel="stylesheet" href="_css/chrome.css" />
		<link rel="stylesheet" href="../_css/chrome.css" />
		<link rel="stylesheet" href="../../_css/chrome.css" />
		<link rel="stylesheet" href="../../../_css/chrome.css" />
		<script src="_js/jquery-1.4.2.min.js" type="text/javascript"></script>
		<script src="../_js/jquery-1.4.2.min.js" type="text/javascript"></script>
		<script src="../../_js/jquery-1.4.2.min.js" type="text/javascript"></script>
		<script src="../../../_js/jquery-1.4.2.min.js" type="text/javascript"></script>
		<script src="_js/doc.js" type="text/javascript"></script>
		<script src="../_js/doc.js" type="text/javascript"></script>
		<script src="../../_js/doc.js" type="text/javascript"></script>
		<script src="../../../_js/doc.js" type="text/javascript"></script>
	</head>
	<body>
		<div id="content">
    
    <h1 id="developing-javascript-services">
      Developing JavaScript Services
    </h1>
    <p>
      <img src="/images/JSservice.jpg"><br>
      <br>
      Currently, HP provides webOS apps access to a rich set of application and system services available on the public bus. With webOS 2.0, third party developers can now &quot;roll their own&quot; services. Besides powering Synergy connectors, JavaScript services strengthen webOS's support for background processing and add new capabilities such as low-level networking, filesystem access and binary data processing to the webOS technology stack.
    </p>
    <p>
      <strong>In this section:</strong>
    </p>
    <ul>
      <li>
        <a href="#why-services">Why Services?</a>
      </li>
      <li>
        <a href="#js-for-services">JavaScript for Services</a>
      </li>
      <li>
        <a href="#next-steps">Next Steps</a>
      </li>
      <li>
        <a href="#add-docs">Additional Documentation</a>
      </li>
    </ul><a name="why-services" id="why-services"></a>
    <h2 id="why-services">
      Why Services?
    </h2>
    <p>
      Services can provide your app or apps with a number of distinct advantages:
    </p>
    <ul>
      <li>
        <p>
          Faster performance -- Services run in their own single-threaded instance of V8.
        </p>
      </li>
      <li>
        <p>
          Offloaded processing -- Services can run in the background and offload processing such as file downloads and network monitoring.
        </p>
      </li>
      <li>
        <p>
          Shared processing -- Services can perform tasks for one or more apps.
        </p>
      </li>
    </ul>
    <p>
      <strong>Service examples:</strong>
    </p>
    <ul>
      <li>
        <p>
          Synergy service -- Synergy connectors that integrate with resident PIM applications such as contacts, calendar and messaging will typically need to create a Synergy service implementing a connection to a cloud data source for syncing and validation. Please note that a &quot;Synergy service&quot;, in prior documentation, may have been referred to as a &quot;Transport&quot; or &quot;Transport service&quot;.
        </p>
      </li>
      <li>
        <p>
          Location tracking -- On a timed interval, a service could log GPS coordinates to a file or db8 storage.
        </p>
      </li>
      <li>
        <p>
          Chat client -- A service could monitor the network or cloud for instant messaging requests.
        </p>
      </li>
      <li>
        <p>
          Media download -- An app could request a service to download media files. After the app ends, the service could remain running in the background, monitoring the network and downloading files when it becomes possible to do so.
        </p>
      </li>
    </ul><a name="js-for-services" id="js-for-services"></a>
    <h2 id="javascript-for-services">
      JavaScript for Services
    </h2>
    <p>
      The popular <a href="http://en.wikipedia.org/wiki/Node.js">Node.js</a> runtime environment is built into webOS 2, allowing you to develop both webOS apps and services in JavaScript. Developers can write services using a rich set of JavaScript libraries. Besides the open-source Node.js, these include webOS's Node.js add-ons and Foundation libraries of utility JavaScript APIs.
    </p>
    <h3 id="node.js">
      Node.js
    </h3>
    <p>
      <img src="/images/nodejsStack.jpg" alt="Figure 2: The Node.js Stack"><br>
      <br>
      Node.js is an event-driven I/O framework for the <a href="http://en.wikipedia.org/wiki/V8_JavaScript_engine">V8 JavaScript engine</a>, intended for implementing scalable network programs such as web servers and streaming servers. Since Node apps do not require a UI or browser (&quot;DOM&quot; less) -- they run in their own instance of V8 -- they are more related to server-side JavaScript.
    </p>
    <p>
      Node.js uses an event loop instead of threads, allowing it to scale to potentially millions of concurrent connections. It exploits the fact that servers spend most of their time waiting for I/O operations, which are much slower than in-memory operations. Every I/O operation in Node.js is asynchronous, which allows the server to continue processing incoming requests while I/O takes place in the background. This event-based model makes Node.js very fast, and makes scaling real-time applications very easy. JavaScript is extremely well suited to event-based programming because of its anonymous functions and closures, which make defining inline callbacks very simple.
    </p>
    <p>
      In addition, the active <a href="http://nodejs.org">Node development community</a> provides support and a rapidly growing library of modules that you can use in your webOS services.
    </p>
    <h3 id="foundations">
      Foundations
    </h3>
    <p>
      Services (as well as apps) can take advantage of HP's Foundation libraries of JavaScript utilities. Foundations provides utilites for:
    </p>
    <ul>
      <li>Object, string, and array processing
      </li>
      <li>AJAX calls
      </li>
      <li>Accessing webOS services
      </li>
      <li>Asynchronous processing (Futures)
      </li>
      <li>Map reduce functionality
      </li>
      <li>Implementing Finite State Machines
      </li>
      <li>XML and JSON conversion and validation
      </li>
      <li>Creating class and error objects
      </li>
    </ul>
    <p>
      See the <a href="/reference/javascript-libraries/foundations.html">Foundations API reference</a> for more information.
    </p><a name="next-steps" id="next-steps"></a>
    <h2 id="next-steps">
      Next Steps
    </h2>
    <p>
      To begin understanding how to implement services, you should step through the <a href="/dev-guide/js-services/creating-hello-world-service.html">Creating a Hello World Service</a> procedure. Like all Hello World-type implementations, the intention is to strip the process down to a bare minimum, clearly showing what is involved and establishing a base for further development. Through this procedure, you will learn how to create and package a service, install it on the public bus, and call it from a JavaScript app.
    </p>
    <p>
      After that, if you are interested in creating a Synergy connector with a JavaScript Synergy service, you can step through the <a href="/dev-guide/synergy/creating-synergy-contacts-package.html">Creating a Synergy Contacts Package</a> tutorial. This will step you through the basics of creating and installing a Synergy app/service/account package, integrating with the webOS Contacts app, implementing a bare-bones Synergy service, and authenticating and syncing with an outside data source, in this case, Plaxo, an online address book and social networking site <a href="http://www.plaxo.com">(www.plaxo.com)</a>.
    </p><a name="add-docs" id="add-docs"></a>
    <h2 id="additional-documentation">
      Additional Documentation
    </h2>
    <ul>
      <li>
        <a href="/dev-guide/synergy/account-manager.html">Account Manager API Reference</a>
      </li>
      <li>
        <a href="/dev-guide/mojo/db8.html">db8 API Reference</a>
      </li>
      <li>
        <a href="/reference/javascript-libraries/foundations.html">Foundations API Reference</a>
      </li>
      <li>
        <a href="/dev-guide/js-services/activity-manager.html">Activity Manager API Reference</a>
      </li>
    </ul>
		</div>
	</body>
</html>