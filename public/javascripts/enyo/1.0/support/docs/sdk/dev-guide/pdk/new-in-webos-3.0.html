<!DOCTYPE html>
<html>
	<head>
		<title>$if(pagetitle)$$pagetitle$$endif$</title>
		<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
		<link rel="stylesheet" href="_css/chrome.css" />
		<link rel="stylesheet" href="../_css/chrome.css" />
		<link rel="stylesheet" href="../../_css/chrome.css" />
		<link rel="stylesheet" href="../../../_css/chrome.css" />
		<script src="_js/jquery-1.4.2.min.js" type="text/javascript"></script>
		<script src="../_js/jquery-1.4.2.min.js" type="text/javascript"></script>
		<script src="../../_js/jquery-1.4.2.min.js" type="text/javascript"></script>
		<script src="../../../_js/jquery-1.4.2.min.js" type="text/javascript"></script>
		<script src="_js/doc.js" type="text/javascript"></script>
		<script src="../_js/doc.js" type="text/javascript"></script>
		<script src="../../_js/doc.js" type="text/javascript"></script>
		<script src="../../../_js/doc.js" type="text/javascript"></script>
	</head>
	<body>
		<div id="content">
    
    <h1 id="new-in-webos-3.0">
      New in webOS 3.0
    </h1>
    <p>
      For Plug-In Development Kit (PDK) apps, some new APIs and capabilities have been added.
    </p>
    <h2 id="new-apis">
      New APIs
    </h2>
    <p>
      For webOS 3.0, three new PDL APIs (libpdl) have been added:
    </p>
    <ol style="list-style-type: decimal">
      <li>
        <p>
          <a href="/reference/pdk/pdl/pdl-enable-compass.html">PDL_EnableCompass</a> -- Activates or deactivates compass tracking. You must activate compass tracking before any calls to <code>PDL_GetCompass</code>.
        </p>
      </li>
      <li>
        <p>
          <a href="/reference/pdk/pdl/pdl-get-compass.html">PDL_GetCompass</a> -- Gets the compass bearing for magnetic and true north.
        </p>
      </li>
      <li>
        <p>
          <a href="/reference/pdk/pdl/pdl-set-keyboard-state.html">PDL_SetKeyboardState</a> -- Summons or dismisses the on-screen keyboard for the HP TouchPad.
        </p>
      </li>
    </ol>
    <h2 id="compass-struct">
      Compass struct
    </h2>
    <p>
      For <code>PDL_GetCompass</code>, a new stuct has been created:
    </p>
    <blockquote>
      <pre>
<code>typedef struct
{
  int confidence;
  double magneticBearing;
  double trueBearing;
} PDL_Compass; 
</code>
</pre>
    </blockquote>
    <h2 id="emulator">
      Emulator
    </h2>
    <p>
      Starting with webOS 3.0, you can run x86-compiled PDK code in the Emulator in either full-screen or hybrid mode. SDL APIs are supported, but OpenGL ES is not.
    </p>
    <p>
      To build PDK code, you need a separate x86 toolchain. On Windows, you can download the current CodeSourcery G++ Lite cross-compiler from <a href="http://www.codesourcery.com/sgpp/lite/ia32/portal/release1567">http://www.codesourcery.com/sgpp/lite/ia32/portal/release1567</a>. We have seen problems with these tools when hosted on 64-bit Windows.
    </p>
    <h2 id="hybrid-applications">
      Hybrid Applications
    </h2>
    <p>
      In Enyo 0.9, we added an <code>enyo.Hybrid</code> control type to wrap PDK objects in JavaScript (JS) applications.
    </p>
    <p>
      Since a hybrid app runs in two separate processes, there is a delay between when the HTML's <code>&lt;object&gt;</code> tag becomes available and when the Plug-in's exposed methods can be called. The only safe way to work around this is to set up a &quot;ready&quot; method on the object from the JS side and wait until it is called via <code>PDL_CallJS</code> before the JS invokes Plug-in methods. On webOS 2.1 and earlier, this technique mostly worked, but, since then, WebKit and adapter changes have meant that checking for a method on an <code>&lt;object&gt;</code> before it's completely constructed can cause the <code>&lt;object&gt;</code> tag to be removed from the DOM.
    </p>
		</div>
	</body>
</html>